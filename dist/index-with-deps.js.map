{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap bef7b4dc7aa6ac50b1d3","webpack:///./src/index.js","webpack:///./src/diff.js","webpack:///./src/diff-main.js","webpack:///./src/types.js","webpack:///./src/compare/node.js","webpack:///./src/compare/element.js","webpack:///./src/compare/attributes.js","webpack:///./src/util/accessor.js","webpack:///./src/compare/events.js","webpack:///./src/util/event-map.js","webpack:///./src/util/weak-map.js","webpack:///./src/compare/text.js","webpack:///./src/compare/comment.js","webpack:///./src/util/real-node.js","webpack:///./src/util/real-node-map.js","webpack:///./src/diff-worker.js","webpack:///./src/merge.js","webpack:///./src/patch.js","webpack:///./src/patch/append-child.js","webpack:///./src/vdom/dom.js","webpack:///./src/patch/remove-attribute.js","webpack:///./src/patch/remove-child.js","webpack:///./src/patch/replace-child.js","webpack:///./src/patch/set-attribute.js","webpack:///./src/patch/set-event.js","webpack:///./src/patch/text-content.js","webpack:///./src/render.js","webpack:///./src/vdom/element.js","webpack:///./src/vdom/text.js","webpack:///./src/vdom/mount.js","webpack:///./src/vdom/index.js"],"names":["types","diff","merge","patch","render","vdom","window","Node","diffWorker","opts","worker","done","addEventListener","e","data","postMessage","source","destination","canDiffInWorker","diffNode","nodeInstructions","concat","type","REPLACE_CHILD","src","dst","instructions","root","srcChs","childNodes","dstChs","srcChsLen","length","dstChsLen","a","curSrc","curDst","push","APPEND_CHILD","__id","set","REMOVE_CHILD","REMOVE_ATTRIBUTE","SET_ATTRIBUTE","SET_EVENT","SET_PROPERTY","TEXT_CONTENT","dstType","srcType","nodeType","NODE_ELEMENT","NODE_TEXT","NODE_COMMENT","tagName","srcAttrs","attributes","dstAttrs","srcAttrsLen","dstAttrsLen","srcAttr","srcAttrName","name","srcAttrValue","dstAttr","dstAttrValue","value","dstAttrName","getAccessor","mapAccessor","removeAccessor","setAccessor","classToString","obj","Array","isArray","join","Object","keys","filter","key","styleToString","map","node","className","style","cssText","getAttribute","removeAttribute","setAttribute","dstEvents","events","srcEvents","undefined","elem","get","index","prefix","WeakMap","Polyfill","prototype","val","textContent","isWindow","self","id","forEach","patchers","instruction","appendChild","createElement","el","realNode","document","eventHandlers","children","attributesLen","attr","docfrag","createDocumentFragment","childrenLen","ch","createText","createTextNode","frag","item","realDst","realSrc","removeChild","parentNode","replaceChild","prevHandler","nextHandler","removeEventListener","Error","newTree","oldTree","oldTreeMap","element","separateData","attrs","attrIdx","indexOf","substring","ensureNodes","arr","out","Boolean","translateFromReact","ensureTagName","toUpperCase","isChildren","arg","isReactNode","props","chren","count","isAttrsNode","array","tag","bind","tree","removeChildNodes","firstChild","first","dom","mount","text"],"mappings":"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","file":"dist/index-with-deps.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"skatejsDomDiff\"] = factory();\n\telse\n\t\troot[\"skatejsDomDiff\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap bef7b4dc7aa6ac50b1d3","import diff from './diff';\nimport merge from './merge';\nimport patch from './patch';\nimport render from './render';\nimport * as types from './types';\nimport vdom from './vdom';\n\nexport default {\n  diff,\n  merge,\n  patch,\n  render,\n  types,\n  vdom\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import diffMain from './diff-main';\nimport DiffWorker from 'worker-loader?name=./dist/[hash].[ext]!./diff-worker';\n\nconst { Node } = window;\n\nfunction diffWorker (opts) {\n  const worker = new DiffWorker();\n  const { done } = opts;\n  worker.addEventListener('message', e => done(e.data));\n  delete opts.done;\n  worker.postMessage(opts);\n}\n\nexport default function diff (opts = {}) {\n  const { source, destination, done } = opts;\n  const canDiffInWorker = done && !(source instanceof Node && destination instanceof Node);\n  return canDiffInWorker ? diffWorker(opts) : diffMain(opts);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/diff.js","import * as types from './types';\nimport compareNode from './compare/node';\nimport realNode from './util/real-node';\nimport realNodeMap from './util/real-node-map';\n\nfunction diffNode (source, destination) {\n  let nodeInstructions = compareNode(source, destination);\n\n  // If there are instructions (even an empty array) it means the node can be\n  // diffed and doesn't have to be replaced. If the instructions are falsy\n  // it means that the nodes are not similar (cannot be changed) and must be\n  // replaced instead.\n  if (nodeInstructions) {\n    return nodeInstructions.concat(diff({ source, destination }));\n  }\n\n  return [{\n    destination,\n    source,\n    type: types.REPLACE_CHILD\n  }];\n}\n\nexport default function diff (opts) {\n  const src = opts.source;\n  const dst = opts.destination;\n\n  if (!src || !dst) {\n    return [];\n  }\n\n  let instructions = opts.root ? diffNode(src, dst) : [];\n\n  const srcChs = src.childNodes;\n  const dstChs = dst.childNodes;\n  const srcChsLen = srcChs ? srcChs.length : 0;\n  const dstChsLen = dstChs ? dstChs.length : 0;\n\n  for (let a = 0; a < dstChsLen; a++) {\n    const curSrc = srcChs[a];\n    const curDst = dstChs[a];\n\n    // If there is no matching destination node it means we need to remove the\n    // current source node from the source.\n    if (!curSrc) {\n      instructions.push({\n        destination: dstChs[a],\n        source: src,\n        type: types.APPEND_CHILD\n      });\n      continue;\n    } else {\n      // Ensure the real node is carried over even if the destination isn't used.\n      // This is used in the render() function to keep track of the real node\n      // that corresponds to a virtual node if a virtual tree is being used.\n      if (typeof curDst.__id !== 'undefined') {\n        realNodeMap.set(curDst.__id, realNode(curSrc));\n      }\n    }\n\n    instructions = instructions.concat(diffNode(curSrc, curDst));\n  }\n\n  if (dstChsLen < srcChsLen) {\n    for (let a = dstChsLen; a < srcChsLen; a++) {\n      instructions.push({\n        destination: srcChs[a],\n        source: src,\n        type: types.REMOVE_CHILD\n      });\n    }\n  }\n\n  return instructions;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/diff-main.js","export const APPEND_CHILD = 1;\nexport const REMOVE_CHILD = 2;\nexport const REMOVE_ATTRIBUTE = 3;\nexport const REPLACE_CHILD = 4;\nexport const SET_ATTRIBUTE = 5;\nexport const SET_EVENT = 6;\nexport const SET_PROPERTY = 7;\nexport const TEXT_CONTENT = 8;\n\n\n\n// WEBPACK FOOTER //\n// ./src/types.js","import compareElement from './element';\nimport compareText from './text';\nimport compareComment from './comment';\n\nconst NODE_COMMENT = 8;\nconst NODE_ELEMENT = 1;\nconst NODE_TEXT = 3;\n\nexport default function (src, dst) {\n  let dstType, srcType;\n\n  if (!dst || !src) {\n    return;\n  }\n\n  dstType = dst.nodeType;\n  srcType = src.nodeType;\n\n  if (dstType !== srcType) {\n    return;\n  } else if (dstType === NODE_ELEMENT) {\n    return compareElement(src, dst);\n  } else if (dstType === NODE_TEXT) {\n    return compareText(src, dst);\n  } else if (dstType === NODE_COMMENT) {\n    return compareComment(src, dst);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/compare/node.js","import compareAttributes from './attributes';\nimport compareEvents from './events';\n\nexport default function (src, dst) {\n  if (src.tagName === dst.tagName) {\n    return compareAttributes(src, dst).concat(compareEvents(src, dst));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/compare/element.js","import * as types from '../types';\nimport { getAccessor } from '../util/accessor';\n\nexport default function (src, dst) {\n  const srcAttrs = src.attributes;\n  const dstAttrs = dst.attributes;\n  const srcAttrsLen = (srcAttrs || 0) && srcAttrs.length;\n  const dstAttrsLen = (dstAttrs || 0) && dstAttrs.length;\n  const instructions = [];\n\n  // Bail early if possible.\n  if (!srcAttrsLen && !dstAttrsLen) {\n    return instructions;\n  }\n\n  // Merge attributes that exist in source with destination's.\n  for (let a = 0; a < srcAttrsLen; a++) {\n    const srcAttr = srcAttrs[a];\n    const srcAttrName = srcAttr.name;\n    const srcAttrValue = getAccessor(src, srcAttrName);\n    const dstAttr = dstAttrs[srcAttrName];\n    const dstAttrValue = getAccessor(dst, srcAttrName);\n\n    if (!dstAttr) {\n      instructions.push({\n        data: { name: srcAttrName },\n        destination: dst,\n        source: src,\n        type: types.REMOVE_ATTRIBUTE\n      });\n    } else if (srcAttrValue !== dstAttrValue) {\n      instructions.push({\n        data: { name: srcAttrName, value: dstAttrValue },\n        destination: dst,\n        source: src,\n        type: types.SET_ATTRIBUTE\n      });\n    }\n  }\n\n  // We only need to worry about setting attributes that don't already exist\n  // in the source.\n  for (let a = 0; a < dstAttrsLen; a++) {\n    const dstAttr = dstAttrs[a];\n    const dstAttrName = dstAttr.name;\n    const dstAttrValue = getAccessor(dst, dstAttrName);\n    const srcAttr = srcAttrs[dstAttrName];\n\n    if (!srcAttr) {\n      instructions.push({\n        data: { name: dstAttrName, value: dstAttrValue },\n        destination: dst,\n        source: src,\n        type: types.SET_ATTRIBUTE\n      });\n    }\n  }\n\n  return instructions;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/compare/attributes.js","function classToString (obj) {\n  if (typeof obj === 'string') {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.join(' ');\n  }\n\n  return Object.keys(obj).filter(function (key) {\n    return obj[key] ? key : false;\n  }).join(' ');\n}\n\nfunction styleToString (obj) {\n  if (typeof obj === 'string') {\n    return obj;\n  }\n\n  return Object.keys(obj).map(function (key) {\n    return `${key}: ${obj[key]};`;\n  }).join(' ');\n}\n\nexport function getAccessor (node, name) {\n  if (name === 'class') {\n    return node.className;\n  } else if (name === 'style') {\n    return node.style.cssText;\n  // most things\n  } else if (name !== 'type' && name in node) {\n    return node[name];\n  // real DOM elements\n  } else if (node.getAttribute) {\n    return node.getAttribute(name);\n  // vDOM nodes\n  } else if (node.attributes && node.attributes[name]) {\n    return node.attributes[name].value;\n  }\n}\n\nexport function mapAccessor (node, name, value) {\n  if (name === 'class') {\n    node.className = classToString(value);\n  } else if (name === 'style') {\n    node.style = { cssText: styleToString(value) };\n  }\n}\n\nexport function removeAccessor (node, name) {\n  if (name === 'class') {\n    node.className = '';\n  } else if (name === 'style') {\n    node.style.cssText = '';\n  // most things\n  } else if (name !== 'type' && name in node) {\n    node[name] = '';\n  // real DOM elements\n  } else if (node.removeAttribute) {\n    node.removeAttribute(name);\n  // vDOM nodes\n  } else if (node.attributes) {\n    delete node.attributes[name];\n  }\n}\n\nexport function setAccessor (node, name, value) {\n  if (name === 'class') {\n    node.className = value;\n  } else if (name === 'style') {\n    node.style.cssText = value;\n  // most things\n  } else if (name !== 'type' && name in node || typeof value !== 'string') {\n    // We check if it's undefined or null because IE throws \"invalid argument\"\n    // errors for some types of properties. Essentially this is the same as\n    // removing the accessor.\n    node[name] = value == null ? '' : value;\n  // real DOM elements\n  } else if (node.setAttribute) {\n    node.setAttribute(name, value);\n  // vDOM nodes\n  } else if (node.attributes) {\n    node.attributes[node.attributes.length] = node.attributes[name] = { name, value };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/accessor.js","import * as types from '../types';\nimport eventMap from '../util/event-map';\n\nexport default function (src, dst) {\n  const dstEvents = dst.events;\n  const srcEvents = eventMap(src);\n  const instructions = [];\n\n  // Remove any source events that aren't in the destination before seeing if\n  // we need to add any from the destination.\n  if (srcEvents) {\n    for (let name in srcEvents) {\n      if (dstEvents && dstEvents[name] !== srcEvents[name]) {\n        instructions.push({\n          data: { name, value: undefined },\n          destination: dst,\n          source: src,\n          type: types.SET_EVENT\n        });\n      }\n    }\n  }\n\n  // After instructing to remove any old events, we then can instruct to add\n  // new events. This prevents the new events from being removed from earlier\n  // instructions.\n  if (dstEvents) {\n    for (let name in dstEvents) {\n      const value = dstEvents[name];\n      if (srcEvents[name] !== value) {\n        instructions.push({\n          data: { name, value },\n          destination: dst,\n          source: src,\n          type: types.SET_EVENT\n        });\n      }\n    }\n  }\n\n  return instructions;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/compare/events.js","import WeakMap from './weak-map';\n\nconst map = new WeakMap();\n\nexport default function (elem) {\n  let events = map.get(elem);\n  events || map.set(elem, events = {});\n  return events;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/event-map.js","// Because weak map polyfills either are too big or don't use native if\n// available properly.\n\nlet index = 0;\nconst prefix = '__WEAK_MAP_POLYFILL_';\n\nexport default (function () {\n  if (typeof WeakMap !== 'undefined') {\n    return WeakMap;\n  }\n\n  function Polyfill () {\n    this.key = prefix + index;\n    ++index;\n  }\n\n  Polyfill.prototype = {\n    get (obj) {\n      return obj[this.key];\n    },\n    set (obj, val) {\n      obj[this.key] = val;\n    }\n  };\n\n  return Polyfill;\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/weak-map.js","import * as types from '../types';\n\nexport default function (src, dst) {\n  if (src.textContent === dst.textContent) {\n    return [];\n  }\n\n  return [{\n    destination: dst,\n    source: src,\n    type: types.TEXT_CONTENT\n  }];\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/compare/text.js","import text from './text';\nexport default text;\n\n\n\n// WEBPACK FOOTER //\n// ./src/compare/comment.js","import realNodeMap from './real-node-map';\n\nconst isWindow = typeof window !== 'undefined';\nconst { Node } = isWindow ? window : self;\n\nexport default function (node) {\n  return isWindow && node instanceof Node ? node : realNodeMap.get(node.__id);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/real-node.js","// import WeakMap from './weak-map';\n// export default new WeakMap();\nconst map = [];\nexport default {\n  get (id) {\n    return map[id];\n  },\n  set (id, node) {\n    map[id] = node;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/real-node-map.js","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"./dist/e375e330bcafe442dfca.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader?name=./dist/[hash].[ext]!./src/diff-worker.js\n// module id = 15\n// module chunks = 0 1 2","import diff from './diff';\nimport patch from './patch';\n\nexport default function (opts = {}) {\n  const { source, destination, done } = opts;\n  if (done) {\n    return diff({\n      source,\n      destination,\n      done (instructions) {\n        patch(instructions);\n        done(instructions);\n      }\n    });\n  }\n  const instructions = diff(opts);\n  patch(instructions);\n  return instructions;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/merge.js","import * as types from './types';\nimport appendChild from './patch/append-child';\nimport removeAttribute from './patch/remove-attribute';\nimport removeChild from './patch/remove-child';\nimport replaceChild from './patch/replace-child';\nimport setAttribute from './patch/set-attribute';\nimport setEvent from './patch/set-event';\nimport textContent from './patch/text-content';\n\nconst patchers = {};\npatchers[types.APPEND_CHILD] = appendChild;\npatchers[types.REMOVE_ATTRIBUTE] = removeAttribute;\npatchers[types.REMOVE_CHILD] = removeChild;\npatchers[types.REPLACE_CHILD] = replaceChild;\npatchers[types.SET_ATTRIBUTE] = setAttribute;\npatchers[types.SET_EVENT] = setEvent;\npatchers[types.TEXT_CONTENT] = textContent;\n\nfunction patch (instruction) {\n  patchers[instruction.type](\n    instruction.source,\n    instruction.destination,\n    instruction.data\n  );\n}\n\nexport default function (instructions) {\n  instructions.forEach(patch);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch.js","import realNode from '../util/real-node';\nimport dom from '../vdom/dom';\n\nexport default function (src, dst) {\n  realNode(src).appendChild(dom(dst));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/append-child.js","import { setAccessor } from '../util/accessor';\nimport eventMap from '../util/event-map';\nimport realNodeMap from '../util/real-node-map';\n\nconst { Node } = window;\n\nfunction createElement (el) {\n  const realNode = document.createElement(el.tagName);\n  const attributes = el.attributes;\n  const events = el.events;\n  const eventHandlers = eventMap(realNode);\n  const children = el.childNodes;\n\n  if (attributes) {\n    const attributesLen = attributes.length;\n    for (let a = 0; a < attributesLen; a++) {\n      const attr = attributes[a];\n      setAccessor(realNode, attr.name, attr.value);\n    }\n  }\n\n  if (events) {\n    for (let name in events) {\n      realNode.addEventListener(name, eventHandlers[name] = events[name]);\n    }\n  }\n\n  if (children) {\n    const docfrag = document.createDocumentFragment();\n    const childrenLen = children.length;\n\n    for (let a = 0; a < childrenLen; a++) {\n      const ch = children[a];\n      ch && docfrag.appendChild(render(ch));\n    }\n\n    if (realNode.appendChild) {\n      realNode.appendChild(docfrag);\n    }\n  }\n\n  return realNode;\n}\n\nfunction createText (el) {\n  return document.createTextNode(el.textContent);\n}\n\nexport default function render (el) {\n  if (el instanceof Node) {\n    return el;\n  }\n  if (Array.isArray(el)) {\n    const frag = document.createDocumentFragment();\n    el.forEach(item => frag.appendChild(render(item)));\n    return frag;\n  }\n  const realNode = el.tagName ? createElement(el) : createText(el);\n  realNodeMap.set(el.__id, realNode);\n  return realNode;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/dom.js","import { removeAccessor } from '../util/accessor';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  removeAccessor(realNode(src), data.name);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/remove-attribute.js","import realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  const realDst = realNode(dst);\n  const realSrc = realNode(src);\n\n  // We don't do parentNode.removeChild because parentNode may report\n  // incorrectly in some prollyfills since it's impossible (?) to spoof.\n  realSrc.removeChild(realDst);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/remove-child.js","import dom from '../vdom/dom';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  const realSrc = realNode(src);\n  realSrc && realSrc.parentNode && realSrc.parentNode.replaceChild(dom(dst), realSrc);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/replace-child.js","import { setAccessor } from '../util/accessor';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  setAccessor(realNode(src), data.name, data.value);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/set-attribute.js","import eventMap from '../util/event-map';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  const realSrc = realNode(src);\n  const eventHandlers = eventMap(realSrc);\n  const name = data.name;\n  const prevHandler = eventHandlers[name];\n  const nextHandler = data.value;\n\n  if (typeof prevHandler === 'function') {\n    delete eventHandlers[name];\n    realSrc.removeEventListener(name, prevHandler);\n  }\n\n  if (typeof nextHandler === 'function') {\n    eventHandlers[name] = nextHandler;\n    realSrc.addEventListener(name, nextHandler);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/set-event.js","import realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  realNode(src).textContent = dst.textContent;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/patch/text-content.js","import WeakMap from './util/weak-map';\nimport createElement from './vdom/element';\nimport merge from './merge';\nimport mount from './vdom/mount';\n\nconst { Node } = window;\nconst oldTreeMap = new WeakMap();\n\nexport default function (render) {\n  return function (elem, done) {\n    elem = elem instanceof Node ? elem : this;\n\n    if (!(elem instanceof Node)) {\n      throw new Error('No node provided to diff renderer as either the first argument or the context.');\n    }\n\n    // Create a new element to house the new tree since we diff / mount fragments.\n    const newTree = createElement('div', null, render(elem));\n    const oldTree = oldTreeMap.get(elem);\n\n    if (oldTree) {\n      merge({\n        destination: newTree,\n        source: oldTree,\n        done\n      });\n    } else {\n      mount(elem, newTree.childNodes);\n      if (typeof done === 'function') {\n        done();\n      }\n    }\n\n    oldTreeMap.set(elem, newTree);\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/render.js","import { mapAccessor } from '../util/accessor';\nimport createTextNode from './text';\n\nfunction separateData (obj) {\n  const attrs = {};\n  const events = {};\n  const node = {};\n  let attrIdx = 0;\n\n  for (let name in obj) {\n    let value = obj[name];\n\n    if (name.indexOf('on') === 0) {\n      events[name.substring(2)] = value;\n    } else {\n      attrs[attrIdx++] = attrs[name] = { name, value };\n      mapAccessor(node, name, value);\n    }\n  }\n\n  attrs.length = attrIdx;\n  return { attrs, events, node };\n}\n\nfunction ensureNodes (arr) {\n  let out = [];\n  if (!Array.isArray(arr)) {\n    arr = [arr];\n  }\n  arr.filter(Boolean).forEach(function (item) {\n    if (Array.isArray(item)) {\n      out = out.concat(ensureNodes(item));\n    } else if (typeof item === 'object') {\n      out.push(translateFromReact(item));\n    } else {\n      out.push(createTextNode(item));\n    }\n  });\n  return out;\n}\n\nfunction ensureTagName (name) {\n  return (typeof name === 'function' ? name.id || name.name : name).toUpperCase();\n}\n\nfunction isChildren (arg) {\n  return arg && (typeof arg === 'string' || Array.isArray(arg) || typeof arg.nodeType === 'number' || isReactNode(arg));\n}\n\nfunction isReactNode (item) {\n  return item && item.type && item.props;\n}\n\nfunction translateFromReact (item) {\n  if (isReactNode(item)) {\n    const props = item.props;\n    const chren = ensureNodes(props.children);\n    delete props.children;\n    return {\n      nodeType: 1,\n      tagName: item.type,\n      attributes: props,\n      childNodes: chren\n    };\n  }\n  return item;\n}\n\nlet count = 0;\nexport default function element (name, attrs = {}, ...chren) {\n  const isAttrsNode = isChildren(attrs);\n  const data = separateData(isAttrsNode ? {} : attrs);\n  const node = data.node;\n  node.__id = ++count;\n  node.nodeType = 1;\n  node.tagName = ensureTagName(name);\n  node.attributes = data.attrs;\n  node.events = data.events;\n  node.childNodes = ensureNodes(isAttrsNode ? [attrs].concat(chren) : chren);\n  return node;\n}\n\n// Add an array factory that returns an array of virtual nodes.\nelement.array = ensureNodes;\n\n// Generate built-in factories.\n[\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'bgsound',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'command',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'image',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'multicol',\n  'nav',\n  'nobr',\n  'noembed',\n  'noframes',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'rtc',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr'\n].forEach(function (tag) {\n  element[tag] = element.bind(null, tag);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/element.js","export default function createTextNode (item) {\n  return {\n    nodeType: 3,\n    textContent: item\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/text.js","import dom from './dom';\n\nfunction removeChildNodes (elem) {\n  while (elem.firstChild) {\n    const first = elem.firstChild;\n    first.parentNode.removeChild(first);\n  }\n}\n\nexport default function (elem, tree) {\n  removeChildNodes(elem);\n  elem.appendChild(dom(tree));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/mount.js","import dom from './dom';\nimport element from './element';\nimport mount from './mount';\nimport text from './text';\n\nexport default {\n  dom,\n  element,\n  mount,\n  text\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/vdom/index.js"],"sourceRoot":""}