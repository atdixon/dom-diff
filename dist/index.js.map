{"version":3,"file":null,"sources":["../src/types.js","../src/util/accessor.js","../src/compare/attributes.js","../src/util/weak-map.js","../src/util/event-map.js","../src/compare/events.js","../src/compare/element.js","../src/compare/text.js","../src/compare/node.js","../src/util/real-node-map.js","../src/util/real-node.js","../src/diff.js","../src/vdom/dom.js","../src/patch/append-child.js","../src/patch/remove-attribute.js","../src/patch/remove-child.js","../src/patch/replace-child.js","../src/patch/set-attribute.js","../src/patch/set-event.js","../src/patch/text-content.js","../src/patch.js","../src/merge.js","../src/vdom/text.js","../src/vdom/element.js","../src/vdom/mount.js","../src/render.js","../src/vdom/index.js","../src/version.js","../src/index.js"],"sourcesContent":["export const APPEND_CHILD = 1;\nexport const REMOVE_CHILD = 2;\nexport const REMOVE_ATTRIBUTE = 3;\nexport const REPLACE_CHILD = 4;\nexport const SET_ATTRIBUTE = 5;\nexport const SET_EVENT = 6;\nexport const SET_PROPERTY = 7;\nexport const TEXT_CONTENT = 8;\n","function classToString (obj) {\n  if (typeof obj === 'string') {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.join(' ');\n  }\n\n  return Object.keys(obj).filter(function (key) {\n    return obj[key] ? key : false;\n  }).join(' ');\n}\n\nfunction styleToString (obj) {\n  if (typeof obj === 'string') {\n    return obj;\n  }\n\n  return Object.keys(obj).map(function (key) {\n    return `${key}: ${obj[key]};`;\n  }).join(' ');\n}\n\nexport function getAccessor (node, name) {\n  if (name === 'class') {\n    return node.className;\n  } else if (name === 'style') {\n    return node.style.cssText;\n  // most things\n  } else if (name !== 'type' && name in node) {\n    return node[name];\n  // real DOM elements\n  } else if (node.getAttribute) {\n    return node.getAttribute(name);\n  // vDOM nodes\n  } else if (node.attributes && node.attributes[name]) {\n    return node.attributes[name].value;\n  }\n}\n\nexport function mapAccessor (node, name, value) {\n  if (name === 'class') {\n    node.className = classToString(value);\n  } else if (name === 'style') {\n    node.style = { cssText: styleToString(value) };\n  }\n}\n\nexport function removeAccessor (node, name) {\n  if (name === 'class') {\n    node.className = '';\n  } else if (name === 'style') {\n    node.style.cssText = '';\n  // most things\n  } else if (name !== 'type' && name in node) {\n    node[name] = '';\n  // real DOM elements\n  } else if (node.removeAttribute) {\n    node.removeAttribute(name);\n  // vDOM nodes\n  } else if (node.attributes) {\n    delete node.attributes[name];\n  }\n}\n\nexport function setAccessor (node, name, value) {\n  if (name === 'class') {\n    node.className = value;\n  } else if (name === 'style') {\n    node.style.cssText = value;\n  // most things\n  } else if (name !== 'type' && name in node || typeof value !== 'string') {\n    // We check if it's undefined or null because IE throws \"invalid argument\"\n    // errors for some types of properties. Essentially this is the same as\n    // removing the accessor.\n    node[name] = value == null ? '' : value;\n  // real DOM elements\n  } else if (node.setAttribute) {\n    node.setAttribute(name, value);\n  // vDOM nodes\n  } else if (node.attributes) {\n    node.attributes[node.attributes.length] = node.attributes[name] = { name, value };\n  }\n}\n","import * as types from '../types';\nimport { getAccessor } from '../util/accessor';\n\nexport default function (src, dst) {\n  let srcAttrs = src.attributes;\n  let dstAttrs = dst.attributes;\n  let srcAttrsLen = (srcAttrs || 0) && srcAttrs.length;\n  let dstAttrsLen = (dstAttrs || 0) && dstAttrs.length;\n  let instructions = [];\n\n  // Bail early if possible.\n  if (!srcAttrsLen && !dstAttrsLen) {\n    return instructions;\n  }\n\n  // Merge attributes that exist in source with destination's.\n  for (let a = 0; a < srcAttrsLen; a++) {\n    const srcAttr = srcAttrs[a];\n    const srcAttrName = srcAttr.name;\n    const srcAttrValue = getAccessor(src, srcAttrName);\n    const dstAttr = dstAttrs[srcAttrName];\n    const dstAttrValue = getAccessor(dst, srcAttrName);\n\n    if (!dstAttr) {\n      instructions.push({\n        data: { name: srcAttrName },\n        destination: dst,\n        source: src,\n        type: types.REMOVE_ATTRIBUTE\n      });\n    } else if (srcAttrValue !== dstAttrValue) {\n      instructions.push({\n        data: { name: srcAttrName, value: dstAttrValue },\n        destination: dst,\n        source: src,\n        type: types.SET_ATTRIBUTE\n      });\n    }\n  }\n\n  // We only need to worry about setting attributes that don't already exist\n  // in the source.\n  for (let a = 0; a < dstAttrsLen; a++) {\n    const dstAttr = dstAttrs[a];\n    const dstAttrName = dstAttr.name;\n    const dstAttrValue = getAccessor(dst, dstAttrName);\n    const srcAttr = srcAttrs[dstAttrName];\n\n    if (!srcAttr) {\n      instructions.push({\n        data: { name: dstAttrName, value: dstAttrValue },\n        destination: dst,\n        source: src,\n        type: types.SET_ATTRIBUTE\n      });\n    }\n  }\n\n  return instructions;\n}\n","// Because weak map polyfills either are too big or don't use native if\n// available properly.\n\nlet index = 0;\nconst prefix = '__WEAK_MAP_POLYFILL_';\n\nexport default (function () {\n  if (typeof WeakMap !== 'undefined') {\n    return WeakMap;\n  }\n\n  function Polyfill () {\n    this.key = prefix + index;\n    ++index;\n  }\n\n  Polyfill.prototype = {\n    get (obj) {\n      return obj[this.key];\n    },\n    set (obj, val) {\n      obj[this.key] = val;\n    }\n  };\n\n  return Polyfill;\n})();\n","import WeakMap from './weak-map';\n\nconst map = new WeakMap();\n\nexport default function (elem) {\n  let events = map.get(elem);\n  events || map.set(elem, events = {});\n  return events;\n}\n","import * as types from '../types';\nimport eventMap from '../util/event-map';\n\nexport default function (src, dst) {\n  const dstEvents = dst.events;\n  const srcEvents = eventMap(src);\n  const instructions = [];\n\n  // Remove any source events that aren't in the destination before seeing if\n  // we need to add any from the destination.\n  if (srcEvents) {\n    for (let name in srcEvents) {\n      if (dstEvents && dstEvents[name] !== srcEvents[name]) {\n        instructions.push({\n          data: { name, value: undefined },\n          destination: dst,\n          source: src,\n          type: types.SET_EVENT\n        });\n      }\n    }\n  }\n\n  // After instructing to remove any old events, we then can instruct to add\n  // new events. This prevents the new events from being removed from earlier\n  // instructions.\n  if (dstEvents) {\n    for (let name in dstEvents) {\n      const value = dstEvents[name];\n      if (srcEvents[name] !== value) {\n        instructions.push({\n          data: { name, value },\n          destination: dst,\n          source: src,\n          type: types.SET_EVENT\n        });\n      }\n    }\n  }\n\n  return instructions;\n}\n","import compareAttributes from './attributes';\nimport compareEvents from './events';\n\nexport default function (src, dst) {\n  if (src.tagName === dst.tagName) {\n    return compareAttributes(src, dst).concat(compareEvents(src, dst));\n  }\n}\n","import * as types from '../types';\n\nexport default function (src, dst) {\n  if (src.textContent === dst.textContent) {\n    return [];\n  }\n\n  return [{\n    destination: dst,\n    source: src,\n    type: types.TEXT_CONTENT\n  }];\n}\n","import compareElement from './element';\nimport compareText from './text';\nimport compareComment from './comment';\n\nconst NODE_COMMENT = 8;\nconst NODE_ELEMENT = 1;\nconst NODE_TEXT = 3;\n\nexport default function (src, dst) {\n  let dstType, srcType;\n\n  if (!dst || !src) {\n    return;\n  }\n\n  dstType = dst.nodeType;\n  srcType = src.nodeType;\n\n  if (dstType !== srcType) {\n    return;\n  } else if (dstType === NODE_ELEMENT) {\n    return compareElement(src, dst);\n  } else if (dstType === NODE_TEXT) {\n    return compareText(src, dst);\n  } else if (dstType === NODE_COMMENT) {\n    return compareComment(src, dst);\n  }\n}\n","import WeakMap from './weak-map';\nexport default new WeakMap();\n","import realNodeMap from './real-node-map';\n\nconst { Node } = window;\n\nexport default function (node) {\n  return node instanceof Node ? node : realNodeMap.get(node);\n}\n","import * as types from './types';\nimport compareNode from './compare/node';\nimport realNode from './util/real-node';\nimport realNodeMap from './util/real-node-map';\n\nconst { Node } = window;\n\nfunction diffNode (source, destination) {\n  let nodeInstructions = compareNode(source, destination);\n\n  // If there are instructions (even an empty array) it means the node can be\n  // diffed and doesn't have to be replaced. If the instructions are falsy\n  // it means that the nodes are not similar (cannot be changed) and must be\n  // replaced instead.\n  if (nodeInstructions) {\n    return nodeInstructions.concat(diff({ source, destination }));\n  }\n\n  return [{\n    destination,\n    source,\n    type: types.REPLACE_CHILD\n  }];\n}\n\nexport default function diff (opts = {}) {\n  const src = opts.source;\n  const dst = opts.destination;\n\n  if (!src || !dst) {\n    return [];\n  }\n\n  let instructions = opts.root ? diffNode(src, dst) : [];\n\n  const srcChs = src.childNodes;\n  const dstChs = dst.childNodes;\n  const srcChsLen = srcChs ? srcChs.length : 0;\n  const dstChsLen = dstChs ? dstChs.length : 0;\n\n  for (let a = 0; a < dstChsLen; a++) {\n    const curSrc = srcChs[a];\n    const curDst = dstChs[a];\n\n    // If there is no matching destination node it means we need to remove the\n    // current source node from the source.\n    if (!curSrc) {\n      instructions.push({\n        destination: dstChs[a],\n        source: src,\n        type: types.APPEND_CHILD\n      });\n      continue;\n    } else {\n      // Ensure the real node is carried over even if the destination isn't used.\n      // This is used in the render() function to keep track of the real node\n      // that corresponds to a virtual node if a virtual tree is being used.\n      if (!(curDst instanceof Node)) {\n        realNodeMap.set(curDst, realNode(curSrc));\n      }\n    }\n\n    instructions = instructions.concat(diffNode(curSrc, curDst));\n  }\n\n  if (dstChsLen < srcChsLen) {\n    for (let a = dstChsLen; a < srcChsLen; a++) {\n      instructions.push({\n        destination: srcChs[a],\n        source: src,\n        type: types.REMOVE_CHILD\n      });\n    }\n  }\n\n  return instructions;\n}\n","import { setAccessor } from '../util/accessor';\nimport eventMap from '../util/event-map';\nimport realNodeMap from '../util/real-node-map';\n\nconst { Node } = window;\n\nfunction createElement (el) {\n  const realNode = document.createElement(el.tagName);\n  const attributes = el.attributes;\n  const events = el.events;\n  const eventHandlers = eventMap(realNode);\n  const children = el.childNodes;\n\n  if (attributes) {\n    const attributesLen = attributes.length;\n    for (let a = 0; a < attributesLen; a++) {\n      const attr = attributes[a];\n      setAccessor(realNode, attr.name, attr.value);\n    }\n  }\n\n  if (events) {\n    for (let name in events) {\n      realNode.addEventListener(name, eventHandlers[name] = events[name]);\n    }\n  }\n\n  if (children) {\n    const docfrag = document.createDocumentFragment();\n    const childrenLen = children.length;\n\n    for (let a = 0; a < childrenLen; a++) {\n      const ch = children[a];\n      ch && docfrag.appendChild(render(ch));\n    }\n\n    if (realNode.appendChild) {\n      realNode.appendChild(docfrag);\n    }\n  }\n\n  return realNode;\n}\n\nfunction createText (el) {\n  return document.createTextNode(el.textContent);\n}\n\nexport default function render (el) {\n  if (el instanceof Node) {\n    return el;\n  }\n  if (Array.isArray(el)) {\n    const frag = document.createDocumentFragment();\n    el.forEach(item => frag.appendChild(render(item)));\n    return frag;\n  }\n  const realNode = el.tagName ? createElement(el) : createText(el);\n  realNodeMap.set(el, realNode);\n  return realNode;\n}\n","import realNode from '../util/real-node';\nimport dom from '../vdom/dom';\n\nexport default function (src, dst) {\n  realNode(src).appendChild(dom(dst));\n}\n","import { removeAccessor } from '../util/accessor';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  removeAccessor(realNode(src), data.name);\n}\n","import realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  const realDst = realNode(dst);\n  const realSrc = realNode(src);\n\n  // We don't do parentNode.removeChild because parentNode may report\n  // incorrectly in some prollyfills since it's impossible (?) to spoof.\n  realSrc.removeChild(realDst);\n}\n","import dom from '../vdom/dom';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  const realSrc = realNode(src);\n  realSrc && realSrc.parentNode && realSrc.parentNode.replaceChild(dom(dst), realSrc);\n}\n","import { setAccessor } from '../util/accessor';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  setAccessor(realNode(src), data.name, data.value);\n}\n","import eventMap from '../util/event-map';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  const realSrc = realNode(src);\n  const eventHandlers = eventMap(realSrc);\n  const name = data.name;\n  const prevHandler = eventHandlers[name];\n  const nextHandler = data.value;\n\n  if (typeof prevHandler === 'function') {\n    delete eventHandlers[name];\n    realSrc.removeEventListener(name, prevHandler);\n  }\n\n  if (typeof nextHandler === 'function') {\n    eventHandlers[name] = nextHandler;\n    realSrc.addEventListener(name, nextHandler);\n  }\n}\n","import realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  realNode(src).textContent = dst.textContent;\n}\n","import * as types from './types';\nimport appendChild from './patch/append-child';\nimport removeAttribute from './patch/remove-attribute';\nimport removeChild from './patch/remove-child';\nimport replaceChild from './patch/replace-child';\nimport setAttribute from './patch/set-attribute';\nimport setEvent from './patch/set-event';\nimport textContent from './patch/text-content';\n\nconst patchers = {};\npatchers[types.APPEND_CHILD] = appendChild;\npatchers[types.REMOVE_ATTRIBUTE] = removeAttribute;\npatchers[types.REMOVE_CHILD] = removeChild;\npatchers[types.REPLACE_CHILD] = replaceChild;\npatchers[types.SET_ATTRIBUTE] = setAttribute;\npatchers[types.SET_EVENT] = setEvent;\npatchers[types.TEXT_CONTENT] = textContent;\n\nfunction patch (instruction) {\n  patchers[instruction.type](\n    instruction.source,\n    instruction.destination,\n    instruction.data\n  );\n}\n\nexport default function (instructions) {\n  instructions.forEach(patch);\n}\n","import diff from './diff';\nimport patch from './patch';\n\nexport default function (opts) {\n  var inst = diff(opts);\n  patch(inst);\n  return inst;\n}\n","export default function createTextNode (item) {\n  return {\n    nodeType: 3,\n    textContent: item\n  };\n}\n","import { mapAccessor } from '../util/accessor';\nimport createTextNode from './text';\n\nfunction separateData (obj) {\n  const attrs = {};\n  const events = {};\n  const node = {};\n  let attrIdx = 0;\n\n  for (let name in obj) {\n    let value = obj[name];\n\n    if (name.indexOf('on') === 0) {\n      events[name.substring(2)] = value;\n    } else {\n      attrs[attrIdx++] = attrs[name] = { name, value };\n      mapAccessor(node, name, value);\n    }\n  }\n\n  attrs.length = attrIdx;\n  return { attrs, events, node };\n}\n\nfunction ensureNodes (arr) {\n  let out = [];\n  if (!Array.isArray(arr)) {\n    arr = [arr];\n  }\n  arr.filter(Boolean).forEach(function (item) {\n    if (Array.isArray(item)) {\n      out = out.concat(ensureNodes(item));\n    } else if (typeof item === 'object') {\n      out.push(translateFromReact(item));\n    } else {\n      out.push(createTextNode(item));\n    }\n  });\n  return out;\n}\n\nfunction ensureTagName (name) {\n  return (typeof name === 'function' ? name.id || name.name : name).toUpperCase();\n}\n\nfunction isChildren (arg) {\n  return arg && (typeof arg === 'string' || Array.isArray(arg) || typeof arg.nodeType === 'number' || isReactNode(arg));\n}\n\nfunction isReactNode (item) {\n  return item && item.type && item.props;\n}\n\nfunction translateFromReact (item) {\n  if (isReactNode(item)) {\n    const props = item.props;\n    const chren = ensureNodes(props.children);\n    delete props.children;\n    return {\n      nodeType: 1,\n      tagName: item.type,\n      attributes: props,\n      childNodes: chren\n    };\n  }\n  return item;\n}\n\nexport default function element (name, attrs = {}, ...chren) {\n  const isAttrsNode = isChildren(attrs);\n  const data = separateData(isAttrsNode ? {} : attrs);\n  const node = data.node;\n  node.nodeType = 1;\n  node.tagName = ensureTagName(name);\n  node.attributes = data.attrs;\n  node.events = data.events;\n  node.childNodes = ensureNodes(isAttrsNode ? [attrs].concat(chren) : chren);\n  return node;\n}\n\n// Add an array factory that returns an array of virtual nodes.\nelement.array = ensureNodes;\n\n// Generate built-in factories.\n[\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'bgsound',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'command',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'image',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'multicol',\n  'nav',\n  'nobr',\n  'noembed',\n  'noframes',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'rtc',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr'\n].forEach(function (tag) {\n  element[tag] = element.bind(null, tag);\n});\n","import dom from './dom';\n\nfunction removeChildNodes (elem) {\n  while (elem.firstChild) {\n    const first = elem.firstChild;\n    first.parentNode.removeChild(first);\n  }\n}\n\nexport default function (elem, tree) {\n  removeChildNodes(elem);\n  elem.appendChild(dom(tree));\n}\n","import WeakMap from './util/weak-map';\nimport createElement from './vdom/element';\nimport merge from './merge';\nimport mount from './vdom/mount';\n\nconst { Node } = window;\nconst oldTreeMap = new WeakMap();\n\nexport default function (render) {\n  return function (elem) {\n    elem = elem instanceof Node ? elem : this;\n\n    if (!(elem instanceof Node)) {\n      throw new Error('No node provided to diff renderer as either the first argument or the context.');\n    }\n\n    // Create a new element to house the new tree since we diff / mount fragments.\n    const newTree = createElement('div', null, render(elem));\n    const oldTree = oldTreeMap.get(elem);\n\n    if (oldTree) {\n      merge({\n        destination: newTree,\n        source: oldTree\n      });\n    } else {\n      mount(elem, newTree.childNodes);\n    }\n\n    oldTreeMap.set(elem, newTree);\n  };\n}\n","import dom from './dom';\nimport element from './element';\nimport mount from './mount';\nimport text from './text';\n\nexport default {\n  dom,\n  element,\n  mount,\n  text\n};\n","export default '0.3.1';\n","import diff from './diff';\nimport merge from './merge';\nimport patch from './patch';\nimport render from './render';\nimport * as types from './types';\nimport vdom from './vdom';\nimport version from './version';\n\nexport default {\n  diff,\n  merge,\n  patch,\n  render,\n  types,\n  vdom,\n  version\n};\n"],"names":["APPEND_CHILD","REMOVE_CHILD","REMOVE_ATTRIBUTE","REPLACE_CHILD","SET_ATTRIBUTE","SET_EVENT","SET_PROPERTY","TEXT_CONTENT","classToString","obj","Array","isArray","join","Object","keys","filter","key","styleToString","map","getAccessor","node","name","className","style","cssText","getAttribute","attributes","value","mapAccessor","removeAccessor","removeAttribute","setAccessor","setAttribute","length","src","dst","srcAttrs","dstAttrs","srcAttrsLen","dstAttrsLen","instructions","a","srcAttr","srcAttrName","srcAttrValue","dstAttr","dstAttrValue","push","types","dstAttrName","index","prefix","WeakMap","Polyfill","prototype","val","elem","events","get","set","dstEvents","srcEvents","eventMap","undefined","tagName","compareAttributes","concat","compareEvents","textContent","NODE_COMMENT","NODE_ELEMENT","NODE_TEXT","dstType","srcType","nodeType","compareElement","compareText","compareComment","window","Node","realNodeMap","diffNode","source","destination","nodeInstructions","compareNode","diff","opts","root","srcChs","childNodes","dstChs","srcChsLen","dstChsLen","curSrc","curDst","realNode","createElement","el","document","eventHandlers","children","attributesLen","attr","addEventListener","docfrag","createDocumentFragment","childrenLen","ch","appendChild","render","createText","createTextNode","frag","forEach","item","dom","data","realDst","realSrc","removeChild","parentNode","replaceChild","prevHandler","nextHandler","removeEventListener","patchers","setEvent","patch","instruction","type","inst","separateData","attrs","attrIdx","indexOf","substring","ensureNodes","arr","out","Boolean","translateFromReact","ensureTagName","id","toUpperCase","isChildren","arg","isReactNode","props","chren","element","isAttrsNode","array","tag","bind","removeChildNodes","firstChild","first","tree","oldTreeMap","Error","newTree","oldTree"],"mappings":";;;;;;AAAO,IAAMA,eAAe,CAArB;AACP,AAAO,IAAMC,eAAe,CAArB;AACP,AAAO,IAAMC,mBAAmB,CAAzB;AACP,AAAO,IAAMC,gBAAgB,CAAtB;AACP,AAAO,IAAMC,gBAAgB,CAAtB;AACP,AAAO,IAAMC,YAAY,CAAlB;AACP,AAAO,IAAMC,eAAe,CAArB;AACP,AAAO,IAAMC,eAAe,CAArB;;;;;;;;;;;;;ACPP,SAASC,aAAT,CAAwBC,GAAxB,EAA6B;MACvB,OAAOA,GAAP,KAAe,QAAnB,EAA6B;WACpBA,GAAP;;;MAGEC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;WACfA,IAAIG,IAAJ,CAAS,GAAT,CAAP;;;SAGKC,OAAOC,IAAP,CAAYL,GAAZ,EAAiBM,MAAjB,CAAwB,UAAUC,GAAV,EAAe;WACrCP,IAAIO,GAAJ,IAAWA,GAAX,GAAiB,KAAxB;GADK,EAEJJ,IAFI,CAEC,GAFD,CAAP;;;AAKF,SAASK,aAAT,CAAwBR,GAAxB,EAA6B;MACvB,OAAOA,GAAP,KAAe,QAAnB,EAA6B;WACpBA,GAAP;;;SAGKI,OAAOC,IAAP,CAAYL,GAAZ,EAAiBS,GAAjB,CAAqB,UAAUF,GAAV,EAAe;WAC/BA,GAAV,UAAkBP,IAAIO,GAAJ,CAAlB;GADK,EAEJJ,IAFI,CAEC,GAFD,CAAP;;;AAKF,AAAO,SAASO,WAAT,CAAsBC,IAAtB,EAA4BC,IAA5B,EAAkC;MACnCA,SAAS,OAAb,EAAsB;WACbD,KAAKE,SAAZ;GADF,MAEO,IAAID,SAAS,OAAb,EAAsB;WACpBD,KAAKG,KAAL,CAAWC,OAAlB;;GADK,MAGA,IAAIH,SAAS,MAAT,IAAmBA,QAAQD,IAA/B,EAAqC;WACnCA,KAAKC,IAAL,CAAP;;GADK,MAGA,IAAID,KAAKK,YAAT,EAAuB;WACrBL,KAAKK,YAAL,CAAkBJ,IAAlB,CAAP;;GADK,MAGA,IAAID,KAAKM,UAAL,IAAmBN,KAAKM,UAAL,CAAgBL,IAAhB,CAAvB,EAA8C;WAC5CD,KAAKM,UAAL,CAAgBL,IAAhB,EAAsBM,KAA7B;;;;AAIJ,AAAO,SAASC,WAAT,CAAsBR,IAAtB,EAA4BC,IAA5B,EAAkCM,KAAlC,EAAyC;MAC1CN,SAAS,OAAb,EAAsB;SACfC,SAAL,GAAiBd,cAAcmB,KAAd,CAAjB;GADF,MAEO,IAAIN,SAAS,OAAb,EAAsB;SACtBE,KAAL,GAAa,EAAEC,SAASP,cAAcU,KAAd,CAAX,EAAb;;;;AAIJ,AAAO,SAASE,cAAT,CAAyBT,IAAzB,EAA+BC,IAA/B,EAAqC;MACtCA,SAAS,OAAb,EAAsB;SACfC,SAAL,GAAiB,EAAjB;GADF,MAEO,IAAID,SAAS,OAAb,EAAsB;SACtBE,KAAL,CAAWC,OAAX,GAAqB,EAArB;;GADK,MAGA,IAAIH,SAAS,MAAT,IAAmBA,QAAQD,IAA/B,EAAqC;SACrCC,IAAL,IAAa,EAAb;;GADK,MAGA,IAAID,KAAKU,eAAT,EAA0B;SAC1BA,eAAL,CAAqBT,IAArB;;GADK,MAGA,IAAID,KAAKM,UAAT,EAAqB;WACnBN,KAAKM,UAAL,CAAgBL,IAAhB,CAAP;;;;AAIJ,AAAO,SAASU,WAAT,CAAsBX,IAAtB,EAA4BC,IAA5B,EAAkCM,KAAlC,EAAyC;MAC1CN,SAAS,OAAb,EAAsB;SACfC,SAAL,GAAiBK,KAAjB;GADF,MAEO,IAAIN,SAAS,OAAb,EAAsB;SACtBE,KAAL,CAAWC,OAAX,GAAqBG,KAArB;;GADK,MAGA,IAAIN,SAAS,MAAT,IAAmBA,QAAQD,IAA3B,IAAmC,OAAOO,KAAP,KAAiB,QAAxD,EAAkE;;;;SAIlEN,IAAL,IAAaM,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAAlC;;GAJK,MAMA,IAAIP,KAAKY,YAAT,EAAuB;SACvBA,YAAL,CAAkBX,IAAlB,EAAwBM,KAAxB;;GADK,MAGA,IAAIP,KAAKM,UAAT,EAAqB;SACrBA,UAAL,CAAgBN,KAAKM,UAAL,CAAgBO,MAAhC,IAA0Cb,KAAKM,UAAL,CAAgBL,IAAhB,IAAwB,EAAEA,UAAF,EAAQM,YAAR,EAAlE;;;;AC/EJ,wBAAe,UAAUO,GAAV,EAAeC,GAAf,EAAoB;MAC7BC,WAAWF,IAAIR,UAAnB;MACIW,WAAWF,IAAIT,UAAnB;MACIY,cAAc,CAACF,YAAY,CAAb,KAAmBA,SAASH,MAA9C;MACIM,cAAc,CAACF,YAAY,CAAb,KAAmBA,SAASJ,MAA9C;MACIO,eAAe,EAAnB;;;MAGI,CAACF,WAAD,IAAgB,CAACC,WAArB,EAAkC;WACzBC,YAAP;;;;OAIG,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,WAApB,EAAiCG,GAAjC,EAAsC;QAC9BC,UAAUN,SAASK,CAAT,CAAhB;QACME,cAAcD,QAAQrB,IAA5B;QACMuB,eAAezB,YAAYe,GAAZ,EAAiBS,WAAjB,CAArB;QACME,UAAUR,SAASM,WAAT,CAAhB;QACMG,eAAe3B,YAAYgB,GAAZ,EAAiBQ,WAAjB,CAArB;;QAEI,CAACE,OAAL,EAAc;mBACCE,IAAb,CAAkB;cACV,EAAE1B,MAAMsB,WAAR,EADU;qBAEHR,GAFG;gBAGRD,GAHQ;cAIVc;OAJR;KADF,MAOO,IAAIJ,iBAAiBE,YAArB,EAAmC;mBAC3BC,IAAb,CAAkB;cACV,EAAE1B,MAAMsB,WAAR,EAAqBhB,OAAOmB,YAA5B,EADU;qBAEHX,GAFG;gBAGRD,GAHQ;cAIVc;OAJR;;;;;;OAWC,IAAIP,KAAI,CAAb,EAAgBA,KAAIF,WAApB,EAAiCE,IAAjC,EAAsC;QAC9BI,WAAUR,SAASI,EAAT,CAAhB;QACMQ,cAAcJ,SAAQxB,IAA5B;QACMyB,gBAAe3B,YAAYgB,GAAZ,EAAiBc,WAAjB,CAArB;QACMP,WAAUN,SAASa,WAAT,CAAhB;;QAEI,CAACP,QAAL,EAAc;mBACCK,IAAb,CAAkB;cACV,EAAE1B,MAAM4B,WAAR,EAAqBtB,OAAOmB,aAA5B,EADU;qBAEHX,GAFG;gBAGRD,GAHQ;cAIVc;OAJR;;;;SASGR,YAAP;;;AC1DF;;;AAGA,IAAIU,UAAQ,CAAZ;AACA,IAAMC,SAAS,sBAAf;;AAEA,gBAAe,CAAC,YAAY;MACtB,OAAOC,OAAP,KAAmB,WAAvB,EAAoC;WAC3BA,OAAP;;;WAGOC,QAAT,GAAqB;SACdrC,GAAL,GAAWmC,SAASD,OAApB;MACEA,OAAF;;;WAGOI,SAAT,GAAqB;OAAA,eACd7C,GADc,EACT;aACDA,IAAI,KAAKO,GAAT,CAAP;KAFiB;OAAA,eAIdP,GAJc,EAIT8C,GAJS,EAIJ;UACT,KAAKvC,GAAT,IAAgBuC,GAAhB;;GALJ;;SASOF,QAAP;CAnBa,GAAf;;ACJA,IAAMnC,MAAM,IAAIkC,SAAJ,EAAZ;;AAEA,eAAe,UAAUI,IAAV,EAAgB;MACzBC,SAASvC,IAAIwC,GAAJ,CAAQF,IAAR,CAAb;YACUtC,IAAIyC,GAAJ,CAAQH,IAAR,EAAcC,SAAS,EAAvB,CAAV;SACOA,MAAP;;;ACJF,oBAAe,UAAUvB,GAAV,EAAeC,GAAf,EAAoB;MAC3ByB,YAAYzB,IAAIsB,MAAtB;MACMI,YAAYC,SAAS5B,GAAT,CAAlB;MACMM,eAAe,EAArB;;;;MAIIqB,SAAJ,EAAe;SACR,IAAIxC,IAAT,IAAiBwC,SAAjB,EAA4B;UACtBD,aAAaA,UAAUvC,IAAV,MAAoBwC,UAAUxC,IAAV,CAArC,EAAsD;qBACvC0B,IAAb,CAAkB;gBACV,EAAE1B,UAAF,EAAQM,OAAOoC,SAAf,EADU;uBAEH5B,GAFG;kBAGRD,GAHQ;gBAIVc;SAJR;;;;;;;;MAaFY,SAAJ,EAAe;SACR,IAAIvC,KAAT,IAAiBuC,SAAjB,EAA4B;UACpBjC,QAAQiC,UAAUvC,KAAV,CAAd;UACIwC,UAAUxC,KAAV,MAAoBM,KAAxB,EAA+B;qBAChBoB,IAAb,CAAkB;gBACV,EAAE1B,WAAF,EAAQM,YAAR,EADU;uBAEHQ,GAFG;kBAGRD,GAHQ;gBAIVc;SAJR;;;;;SAUCR,YAAP;;;ACrCF,qBAAe,UAAUN,GAAV,EAAeC,GAAf,EAAoB;MAC7BD,IAAI8B,OAAJ,KAAgB7B,IAAI6B,OAAxB,EAAiC;WACxBC,kBAAkB/B,GAAlB,EAAuBC,GAAvB,EAA4B+B,MAA5B,CAAmCC,cAAcjC,GAAd,EAAmBC,GAAnB,CAAnC,CAAP;;;;ACHJ,WAAe,UAAUD,GAAV,EAAeC,GAAf,EAAoB;MAC7BD,IAAIkC,WAAJ,KAAoBjC,IAAIiC,WAA5B,EAAyC;WAChC,EAAP;;;SAGK,CAAC;iBACOjC,GADP;YAEED,GAFF;UAGAc;GAHD,CAAP;;;ACHF,IAAMqB,eAAe,CAArB;AACA,IAAMC,eAAe,CAArB;AACA,IAAMC,YAAY,CAAlB;;AAEA,kBAAe,UAAUrC,GAAV,EAAeC,GAAf,EAAoB;MAC7BqC,gBAAJ;MAAaC,gBAAb;;MAEI,CAACtC,GAAD,IAAQ,CAACD,GAAb,EAAkB;;;;YAIRC,IAAIuC,QAAd;YACUxC,IAAIwC,QAAd;;MAEIF,YAAYC,OAAhB,EAAyB;;GAAzB,MAEO,IAAID,YAAYF,YAAhB,EAA8B;WAC5BK,eAAezC,GAAf,EAAoBC,GAApB,CAAP;GADK,MAEA,IAAIqC,YAAYD,SAAhB,EAA2B;WACzBK,KAAY1C,GAAZ,EAAiBC,GAAjB,CAAP;GADK,MAEA,IAAIqC,YAAYH,YAAhB,EAA8B;WAC5BQ,KAAe3C,GAAf,EAAoBC,GAApB,CAAP;;;;ACxBJ,kBAAe,IAAIiB,SAAJ,EAAf;;gBCCiB0B;IAATC,mBAAAA;;;AAER,eAAe,UAAU3D,IAAV,EAAgB;SACtBA,gBAAgB2D,MAAhB,GAAuB3D,IAAvB,GAA8B4D,YAAYtB,GAAZ,CAAgBtC,IAAhB,CAArC;;;cCAe0D;IAATC,eAAAA;;;AAER,SAASE,QAAT,CAAmBC,MAAnB,EAA2BC,WAA3B,EAAwC;MAClCC,mBAAmBC,YAAYH,MAAZ,EAAoBC,WAApB,CAAvB;;;;;;MAMIC,gBAAJ,EAAsB;WACbA,iBAAiBlB,MAAjB,CAAwBoB,KAAK,EAAEJ,cAAF,EAAUC,wBAAV,EAAL,CAAxB,CAAP;;;SAGK,CAAC;4BAAA;kBAAA;UAGAnC;GAHD,CAAP;;;AAOF,AAAe,SAASsC,IAAT,GAA0B;MAAXC,IAAW,uEAAJ,EAAI;;MACjCrD,MAAMqD,KAAKL,MAAjB;MACM/C,MAAMoD,KAAKJ,WAAjB;;MAEI,CAACjD,GAAD,IAAQ,CAACC,GAAb,EAAkB;WACT,EAAP;;;MAGEK,eAAe+C,KAAKC,IAAL,GAAYP,SAAS/C,GAAT,EAAcC,GAAd,CAAZ,GAAiC,EAApD;;MAEMsD,SAASvD,IAAIwD,UAAnB;MACMC,SAASxD,IAAIuD,UAAnB;MACME,YAAYH,SAASA,OAAOxD,MAAhB,GAAyB,CAA3C;MACM4D,YAAYF,SAASA,OAAO1D,MAAhB,GAAyB,CAA3C;;OAEK,IAAIQ,IAAI,CAAb,EAAgBA,IAAIoD,SAApB,EAA+BpD,GAA/B,EAAoC;QAC5BqD,SAASL,OAAOhD,CAAP,CAAf;QACMsD,SAASJ,OAAOlD,CAAP,CAAf;;;;QAII,CAACqD,MAAL,EAAa;mBACE/C,IAAb,CAAkB;qBACH4C,OAAOlD,CAAP,CADG;gBAERP,GAFQ;cAGVc;OAHR;;KADF,MAOO;;;;UAID,EAAE+C,kBAAkBhB,IAApB,CAAJ,EAA+B;oBACjBpB,GAAZ,CAAgBoC,MAAhB,EAAwBC,SAASF,MAAT,CAAxB;;;;mBAIWtD,aAAa0B,MAAb,CAAoBe,SAASa,MAAT,EAAiBC,MAAjB,CAApB,CAAf;;;MAGEF,YAAYD,SAAhB,EAA2B;SACpB,IAAInD,KAAIoD,SAAb,EAAwBpD,KAAImD,SAA5B,EAAuCnD,IAAvC,EAA4C;mBAC7BM,IAAb,CAAkB;qBACH0C,OAAOhD,EAAP,CADG;gBAERP,GAFQ;cAGVc;OAHR;;;;SAQGR,YAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCvEesC;IAATC,mBAAAA;;;AAER,SAASkB,aAAT,CAAwBC,EAAxB,EAA4B;MACpBF,WAAWG,SAASF,aAAT,CAAuBC,GAAGlC,OAA1B,CAAjB;MACMtC,aAAawE,GAAGxE,UAAtB;MACM+B,SAASyC,GAAGzC,MAAlB;MACM2C,gBAAgBtC,SAASkC,QAAT,CAAtB;MACMK,WAAWH,GAAGR,UAApB;;MAEIhE,UAAJ,EAAgB;QACR4E,gBAAgB5E,WAAWO,MAAjC;SACK,IAAIQ,IAAI,CAAb,EAAgBA,IAAI6D,aAApB,EAAmC7D,GAAnC,EAAwC;UAChC8D,OAAO7E,WAAWe,CAAX,CAAb;kBACYuD,QAAZ,EAAsBO,KAAKlF,IAA3B,EAAiCkF,KAAK5E,KAAtC;;;;MAIA8B,MAAJ,EAAY;SACL,IAAIpC,IAAT,IAAiBoC,MAAjB,EAAyB;eACd+C,gBAAT,CAA0BnF,IAA1B,EAAgC+E,cAAc/E,IAAd,IAAsBoC,OAAOpC,IAAP,CAAtD;;;;MAIAgF,QAAJ,EAAc;QACNI,UAAUN,SAASO,sBAAT,EAAhB;QACMC,cAAcN,SAASpE,MAA7B;;SAEK,IAAIQ,KAAI,CAAb,EAAgBA,KAAIkE,WAApB,EAAiClE,IAAjC,EAAsC;UAC9BmE,KAAKP,SAAS5D,EAAT,CAAX;YACMgE,QAAQI,WAAR,CAAoBC,OAAOF,EAAP,CAApB,CAAN;;;QAGEZ,SAASa,WAAb,EAA0B;eACfA,WAAT,CAAqBJ,OAArB;;;;SAIGT,QAAP;;;AAGF,SAASe,UAAT,CAAqBb,EAArB,EAAyB;SAChBC,SAASa,cAAT,CAAwBd,GAAG9B,WAA3B,CAAP;;;AAGF,AAAe,SAAS0C,MAAT,CAAiBZ,EAAjB,EAAqB;MAC9BA,cAAcnB,MAAlB,EAAwB;WACfmB,EAAP;;MAEExF,MAAMC,OAAN,CAAcuF,EAAd,CAAJ,EAAuB;;UACfe,OAAOd,SAASO,sBAAT,EAAb;SACGQ,OAAH,CAAW;eAAQD,KAAKJ,WAAL,CAAiBC,OAAOK,IAAP,CAAjB,CAAR;OAAX;;WACOF;;;;;;MAEHjB,WAAWE,GAAGlC,OAAH,GAAaiC,cAAcC,EAAd,CAAb,GAAiCa,WAAWb,EAAX,CAAlD;cACYvC,GAAZ,CAAgBuC,EAAhB,EAAoBF,QAApB;SACOA,QAAP;;;ACxDF,kBAAe,UAAU9D,GAAV,EAAeC,GAAf,EAAoB;WACxBD,GAAT,EAAc2E,WAAd,CAA0BO,OAAIjF,GAAJ,CAA1B;;;ACDF,sBAAe,UAAUD,GAAV,EAAeC,GAAf,EAAoBkF,IAApB,EAA0B;iBACxBrB,SAAS9D,GAAT,CAAf,EAA8BmF,KAAKhG,IAAnC;;;ACFF,kBAAe,UAAUa,GAAV,EAAeC,GAAf,EAAoB;MAC3BmF,UAAUtB,SAAS7D,GAAT,CAAhB;MACMoF,UAAUvB,SAAS9D,GAAT,CAAhB;;;;UAIQsF,WAAR,CAAoBF,OAApB;;;ACLF,mBAAe,UAAUpF,GAAV,EAAeC,GAAf,EAAoB;MAC3BoF,UAAUvB,SAAS9D,GAAT,CAAhB;aACWqF,QAAQE,UAAnB,IAAiCF,QAAQE,UAAR,CAAmBC,YAAnB,CAAgCN,OAAIjF,GAAJ,CAAhC,EAA0CoF,OAA1C,CAAjC;;;ACFF,mBAAe,UAAUrF,GAAV,EAAeC,GAAf,EAAoBkF,IAApB,EAA0B;cAC3BrB,SAAS9D,GAAT,CAAZ,EAA2BmF,KAAKhG,IAAhC,EAAsCgG,KAAK1F,KAA3C;;;ACDF,eAAe,UAAUO,GAAV,EAAeC,GAAf,EAAoBkF,IAApB,EAA0B;MACjCE,UAAUvB,SAAS9D,GAAT,CAAhB;MACMkE,gBAAgBtC,SAASyD,OAAT,CAAtB;MACMlG,OAAOgG,KAAKhG,IAAlB;MACMsG,cAAcvB,cAAc/E,IAAd,CAApB;MACMuG,cAAcP,KAAK1F,KAAzB;;MAEI,OAAOgG,WAAP,KAAuB,UAA3B,EAAuC;WAC9BvB,cAAc/E,IAAd,CAAP;YACQwG,mBAAR,CAA4BxG,IAA5B,EAAkCsG,WAAlC;;;MAGE,OAAOC,WAAP,KAAuB,UAA3B,EAAuC;kBACvBvG,IAAd,IAAsBuG,WAAtB;YACQpB,gBAAR,CAAyBnF,IAAzB,EAA+BuG,WAA/B;;;;ACfJ,kBAAe,UAAU1F,GAAV,EAAeC,GAAf,EAAoB;WACxBD,GAAT,EAAckC,WAAd,GAA4BjC,IAAIiC,WAAhC;;;ACMF,IAAM0D,WAAW,EAAjB;AACAA,SAAS9E,YAAT,IAA+B6D,WAA/B;AACAiB,SAAS9E,gBAAT,IAAmClB,eAAnC;AACAgG,SAAS9E,YAAT,IAA+BwE,WAA/B;AACAM,SAAS9E,aAAT,IAAgC0E,YAAhC;AACAI,SAAS9E,aAAT,IAAgChB,YAAhC;AACA8F,SAAS9E,SAAT,IAA4B+E,QAA5B;AACAD,SAAS9E,YAAT,IAA+BoB,WAA/B;;AAEA,SAAS4D,KAAT,CAAgBC,WAAhB,EAA6B;WAClBA,YAAYC,IAArB,EACED,YAAY/C,MADd,EAEE+C,YAAY9C,WAFd,EAGE8C,YAAYZ,IAHd;;;AAOF,cAAe,UAAU7E,YAAV,EAAwB;eACxB0E,OAAb,CAAqBc,KAArB;;;ACxBF,YAAe,UAAUzC,IAAV,EAAgB;MACzB4C,OAAO7C,KAAKC,IAAL,CAAX;UACM4C,IAAN;SACOA,IAAP;;;ACNa,SAASnB,cAAT,CAAyBG,IAAzB,EAA+B;SACrC;cACK,CADL;iBAEQA;GAFf;;;ACEF,SAASiB,YAAT,CAAuB3H,GAAvB,EAA4B;MACpB4H,QAAQ,EAAd;MACM5E,SAAS,EAAf;MACMrC,OAAO,EAAb;MACIkH,UAAU,CAAd;;OAEK,IAAIjH,IAAT,IAAiBZ,GAAjB,EAAsB;QAChBkB,QAAQlB,IAAIY,IAAJ,CAAZ;;QAEIA,KAAKkH,OAAL,CAAa,IAAb,MAAuB,CAA3B,EAA8B;aACrBlH,KAAKmH,SAAL,CAAe,CAAf,CAAP,IAA4B7G,KAA5B;KADF,MAEO;YACC2G,SAAN,IAAmBD,MAAMhH,IAAN,IAAc,EAAEA,UAAF,EAAQM,YAAR,EAAjC;kBACYP,IAAZ,EAAkBC,IAAlB,EAAwBM,KAAxB;;;;QAIEM,MAAN,GAAeqG,OAAf;SACO,EAAED,YAAF,EAAS5E,cAAT,EAAiBrC,UAAjB,EAAP;;;AAGF,SAASqH,WAAT,CAAsBC,GAAtB,EAA2B;MACrBC,MAAM,EAAV;MACI,CAACjI,MAAMC,OAAN,CAAc+H,GAAd,CAAL,EAAyB;UACjB,CAACA,GAAD,CAAN;;MAEE3H,MAAJ,CAAW6H,OAAX,EAAoB1B,OAApB,CAA4B,UAAUC,IAAV,EAAgB;QACtCzG,MAAMC,OAAN,CAAcwG,IAAd,CAAJ,EAAyB;YACjBwB,IAAIzE,MAAJ,CAAWuE,YAAYtB,IAAZ,CAAX,CAAN;KADF,MAEO,IAAI,QAAOA,IAAP,yCAAOA,IAAP,OAAgB,QAApB,EAA8B;UAC/BpE,IAAJ,CAAS8F,mBAAmB1B,IAAnB,CAAT;KADK,MAEA;UACDpE,IAAJ,CAASiE,eAAeG,IAAf,CAAT;;GANJ;SASOwB,GAAP;;;AAGF,SAASG,aAAT,CAAwBzH,IAAxB,EAA8B;SACrB,CAAC,OAAOA,IAAP,KAAgB,UAAhB,GAA6BA,KAAK0H,EAAL,IAAW1H,KAAKA,IAA7C,GAAoDA,IAArD,EAA2D2H,WAA3D,EAAP;;;AAGF,SAASC,UAAT,CAAqBC,GAArB,EAA0B;SACjBA,QAAQ,OAAOA,GAAP,KAAe,QAAf,IAA2BxI,MAAMC,OAAN,CAAcuI,GAAd,CAA3B,IAAiD,OAAOA,IAAIxE,QAAX,KAAwB,QAAzE,IAAqFyE,YAAYD,GAAZ,CAA7F,CAAP;;;AAGF,SAASC,WAAT,CAAsBhC,IAAtB,EAA4B;SACnBA,QAAQA,KAAKe,IAAb,IAAqBf,KAAKiC,KAAjC;;;AAGF,SAASP,kBAAT,CAA6B1B,IAA7B,EAAmC;MAC7BgC,YAAYhC,IAAZ,CAAJ,EAAuB;QACfiC,QAAQjC,KAAKiC,KAAnB;QACMC,QAAQZ,YAAYW,MAAM/C,QAAlB,CAAd;WACO+C,MAAM/C,QAAb;WACO;gBACK,CADL;eAEIc,KAAKe,IAFT;kBAGOkB,KAHP;kBAIOC;KAJd;;SAOKlC,IAAP;;;AAGF,AAAe,SAASmC,OAAT,CAAkBjI,IAAlB,EAA8C;MAAtBgH,KAAsB,uEAAd,EAAc;;MACrDkB,cAAcN,WAAWZ,KAAX,CAApB;MACMhB,OAAOe,aAAamB,cAAc,EAAd,GAAmBlB,KAAhC,CAAb;MACMjH,OAAOiG,KAAKjG,IAAlB;OACKsD,QAAL,GAAgB,CAAhB;OACKV,OAAL,GAAe8E,cAAczH,IAAd,CAAf;OACKK,UAAL,GAAkB2F,KAAKgB,KAAvB;OACK5E,MAAL,GAAc4D,KAAK5D,MAAnB;;oCAPoD4F,KAAO;SAAA;;;OAQtD3D,UAAL,GAAkB+C,YAAYc,cAAc,CAAClB,KAAD,EAAQnE,MAAR,CAAemF,KAAf,CAAd,GAAsCA,KAAlD,CAAlB;SACOjI,IAAP;;;;AAIFkI,QAAQE,KAAR,GAAgBf,WAAhB;;;AAGA,CACE,GADF,EAEE,MAFF,EAGE,SAHF,EAIE,MAJF,EAKE,SALF,EAME,OANF,EAOE,OAPF,EAQE,GARF,EASE,MATF,EAUE,KAVF,EAWE,KAXF,EAYE,SAZF,EAaE,YAbF,EAcE,MAdF,EAeE,IAfF,EAgBE,QAhBF,EAiBE,QAjBF,EAkBE,SAlBF,EAmBE,MAnBF,EAoBE,MApBF,EAqBE,KArBF,EAsBE,UAtBF,EAuBE,SAvBF,EAwBE,SAxBF,EAyBE,MAzBF,EA0BE,UA1BF,EA2BE,IA3BF,EA4BE,KA5BF,EA6BE,SA7BF,EA8BE,KA9BF,EA+BE,QA/BF,EAgCE,KAhCF,EAiCE,IAjCF,EAkCE,IAlCF,EAmCE,SAnCF,EAoCE,IApCF,EAqCE,OArCF,EAsCE,UAtCF,EAuCE,YAvCF,EAwCE,QAxCF,EAyCE,MAzCF,EA0CE,QA1CF,EA2CE,MA3CF,EA4CE,IA5CF,EA6CE,IA7CF,EA8CE,IA9CF,EA+CE,IA/CF,EAgDE,IAhDF,EAiDE,IAjDF,EAkDE,MAlDF,EAmDE,QAnDF,EAoDE,QApDF,EAqDE,IArDF,EAsDE,MAtDF,EAuDE,GAvDF,EAwDE,QAxDF,EAyDE,OAzDF,EA0DE,KA1DF,EA2DE,OA3DF,EA4DE,KA5DF,EA6DE,KA7DF,EA8DE,QA9DF,EA+DE,OA/DF,EAgEE,QAhEF,EAiEE,IAjEF,EAkEE,MAlEF,EAmEE,MAnEF,EAoEE,KApEF,EAqEE,MArEF,EAsEE,SAtEF,EAuEE,MAvEF,EAwEE,UAxEF,EAyEE,MAzEF,EA0EE,OA1EF,EA2EE,UA3EF,EA4EE,KA5EF,EA6EE,MA7EF,EA8EE,SA9EF,EA+EE,UA/EF,EAgFE,UAhFF,EAiFE,QAjFF,EAkFE,IAlFF,EAmFE,UAnFF,EAoFE,QApFF,EAqFE,QArFF,EAsFE,GAtFF,EAuFE,OAvFF,EAwFE,SAxFF,EAyFE,KAzFF,EA0FE,UA1FF,EA2FE,GA3FF,EA4FE,IA5FF,EA6FE,IA7FF,EA8FE,KA9FF,EA+FE,MA/FF,EAgGE,GAhGF,EAiGE,MAjGF,EAkGE,QAlGF,EAmGE,SAnGF,EAoGE,QApGF,EAqGE,QArGF,EAsGE,OAtGF,EAuGE,QAvGF,EAwGE,MAxGF,EAyGE,QAzGF,EA0GE,OA1GF,EA2GE,KA3GF,EA4GE,SA5GF,EA6GE,KA7GF,EA8GE,OA9GF,EA+GE,OA/GF,EAgHE,IAhHF,EAiHE,UAjHF,EAkHE,UAlHF,EAmHE,OAnHF,EAoHE,IApHF,EAqHE,OArHF,EAsHE,MAtHF,EAuHE,OAvHF,EAwHE,IAxHF,EAyHE,OAzHF,EA0HE,GA1HF,EA2HE,IA3HF,EA4HE,KA5HF,EA6HE,OA7HF,EA8HE,KA9HF,EA+HEvB,OA/HF,CA+HU,UAAUuC,GAAV,EAAe;UACfA,GAAR,IAAeH,QAAQI,IAAR,CAAa,IAAb,EAAmBD,GAAnB,CAAf;CAhIF;;AClFA,SAASE,gBAAT,CAA2BnG,IAA3B,EAAiC;SACxBA,KAAKoG,UAAZ,EAAwB;QAChBC,QAAQrG,KAAKoG,UAAnB;UACMnC,UAAN,CAAiBD,WAAjB,CAA6BqC,KAA7B;;;;AAIJ,YAAe,UAAUrG,IAAV,EAAgBsG,IAAhB,EAAsB;mBAClBtG,IAAjB;OACKqD,WAAL,CAAiBO,OAAI0C,IAAJ,CAAjB;;;gBCNehF;IAATC,mBAAAA;;AACR,IAAMgF,aAAa,IAAI3G,SAAJ,EAAnB;;AAEA,eAAe,UAAU0D,MAAV,EAAkB;SACxB,UAAUtD,IAAV,EAAgB;WACdA,gBAAgBuB,MAAhB,GAAuBvB,IAAvB,GAA8B,IAArC;;QAEI,EAAEA,gBAAgBuB,MAAlB,CAAJ,EAA6B;YACrB,IAAIiF,KAAJ,CAAU,gFAAV,CAAN;;;;QAIIC,UAAUhE,QAAc,KAAd,EAAqB,IAArB,EAA2Ba,OAAOtD,IAAP,CAA3B,CAAhB;QACM0G,UAAUH,WAAWrG,GAAX,CAAeF,IAAf,CAAhB;;QAEI0G,OAAJ,EAAa;YACL;qBACSD,OADT;gBAEIC;OAFV;KADF,MAKO;YACC1G,IAAN,EAAYyG,QAAQvE,UAApB;;;eAGS/B,GAAX,CAAeH,IAAf,EAAqByG,OAArB;GApBF;;;ACJF,WAAe;aAAA;kBAAA;cAAA;;CAAf;;ACLA,cAAe,OAAf;;ACQA,YAAe;YAAA;cAAA;gBAAA;kBAAA;cAAA;YAAA;;CAAf;;;;;;"}