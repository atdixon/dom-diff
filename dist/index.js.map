{"version":3,"file":"index.js","sources":["../src/types.js","../src/util/accessor.js","../src/compare/attributes.js","../src/util/weak-map.js","../src/util/event-map.js","../src/compare/events.js","../src/compare/element.js","../src/compare/text.js","../src/compare/node.js","../src/util/real-node-map.js","../src/util/real-node.js","../src/diff.js","../src/vdom/dom.js","../src/patch/append-child.js","../src/patch/remove-attribute.js","../src/patch/remove-child.js","../src/patch/replace-child.js","../src/patch/set-attribute.js","../src/patch/set-event.js","../src/patch/text-content.js","../src/patch.js","../src/merge.js","../src/vdom/text.js","../src/vdom/element.js","../src/vdom/mount.js","../src/render.js","../src/vdom/index.js","../src/version.js","../src/index.js","../src/global.js"],"sourcesContent":["export const APPEND_CHILD = 1;\nexport const REMOVE_CHILD = 2;\nexport const REMOVE_ATTRIBUTE = 3;\nexport const REPLACE_CHILD = 4;\nexport const SET_ATTRIBUTE = 5;\nexport const SET_EVENT = 6;\nexport const SET_PROPERTY = 7;\nexport const TEXT_CONTENT = 8;\n","function classToString (obj) {\n  if (typeof obj === 'string') {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.join(' ');\n  }\n\n  return Object.keys(obj).filter(function (key) {\n    return obj[key] ? key : false;\n  }).join(' ');\n}\n\nfunction styleToString (obj) {\n  if (typeof obj === 'string') {\n    return obj;\n  }\n\n  return Object.keys(obj).map(function (key) {\n    return `${key}: ${obj[key]};`;\n  }).join(' ');\n}\n\nexport function getAccessor (node, name) {\n  if (name === 'class') {\n    return node.className;\n  } else if (name === 'style') {\n    return node.style.cssText;\n  // most things\n  } else if (name !== 'type' && name in node) {\n    return node[name];\n  // real DOM elements\n  } else if (node.getAttribute) {\n    return node.getAttribute(name);\n  // vDOM nodes\n  } else if (node.attributes && node.attributes[name]) {\n    return node.attributes[name].value;\n  }\n}\n\nexport function mapAccessor (node, name, value) {\n  if (name === 'class') {\n    node.className = classToString(value);\n  } else if (name === 'style') {\n    node.style = { cssText: styleToString(value) };\n  }\n}\n\nexport function removeAccessor (node, name) {\n  if (name === 'class') {\n    node.className = '';\n  } else if (name === 'style') {\n    node.style.cssText = '';\n  // most things\n  } else if (name !== 'type' && name in node) {\n    node[name] = '';\n  // real DOM elements\n  } else if (node.removeAttribute) {\n    node.removeAttribute(name);\n  // vDOM nodes\n  } else if (node.attributes) {\n    delete node.attributes[name];\n  }\n}\n\nexport function setAccessor (node, name, value) {\n  if (name === 'class') {\n    node.className = value;\n  } else if (name === 'style') {\n    node.style.cssText = value;\n  // most things\n  } else if (name !== 'type' && name in node || typeof value !== 'string') {\n    // We check if it's undefined or null because IE throws \"invalid argument\"\n    // errors for some types of properties. Essentially this is the same as\n    // removing the accessor.\n    node[name] = value == null ? '' : value;\n  // real DOM elements\n  } else if (node.setAttribute) {\n    node.setAttribute(name, value);\n  // vDOM nodes\n  } else if (node.attributes) {\n    node.attributes[node.attributes.length] = node.attributes[name] = { name, value };\n  }\n}\n","import * as types from '../types';\nimport { getAccessor } from '../util/accessor';\n\nexport default function (src, dst) {\n  let srcAttrs = src.attributes;\n  let dstAttrs = dst.attributes;\n  let srcAttrsLen = (srcAttrs || 0) && srcAttrs.length;\n  let dstAttrsLen = (dstAttrs || 0) && dstAttrs.length;\n  let instructions = [];\n\n  // Bail early if possible.\n  if (!srcAttrsLen && !dstAttrsLen) {\n    return instructions;\n  }\n\n  // Merge attributes that exist in source with destination's.\n  for (let a = 0; a < srcAttrsLen; a++) {\n    const srcAttr = srcAttrs[a];\n    const srcAttrName = srcAttr.name;\n    const srcAttrValue = getAccessor(src, srcAttrName);\n    const dstAttr = dstAttrs[srcAttrName];\n    const dstAttrValue = getAccessor(dst, srcAttrName);\n\n    if (!dstAttr) {\n      instructions.push({\n        data: { name: srcAttrName },\n        destination: dst,\n        source: src,\n        type: types.REMOVE_ATTRIBUTE\n      });\n    } else if (srcAttrValue !== dstAttrValue) {\n      instructions.push({\n        data: { name: srcAttrName, value: dstAttrValue },\n        destination: dst,\n        source: src,\n        type: types.SET_ATTRIBUTE\n      });\n    }\n  }\n\n  // We only need to worry about setting attributes that don't already exist\n  // in the source.\n  for (let a = 0; a < dstAttrsLen; a++) {\n    const dstAttr = dstAttrs[a];\n    const dstAttrName = dstAttr.name;\n    const dstAttrValue = getAccessor(dst, dstAttrName);\n    const srcAttr = srcAttrs[dstAttrName];\n\n    if (!srcAttr) {\n      instructions.push({\n        data: { name: dstAttrName, value: dstAttrValue },\n        destination: dst,\n        source: src,\n        type: types.SET_ATTRIBUTE\n      });\n    }\n  }\n\n  return instructions;\n}\n","// Because weak map polyfills either are too big or don't use native if\n// available properly.\n\nlet index = 0;\nconst prefix = '__WEAK_MAP_POLYFILL_';\n\nexport default (function () {\n  if (typeof WeakMap !== 'undefined') {\n    return WeakMap;\n  }\n\n  function Polyfill () {\n    this.key = prefix + index;\n    ++index;\n  }\n\n  Polyfill.prototype = {\n    get (obj) {\n      return obj[this.key];\n    },\n    set (obj, val) {\n      obj[this.key] = val;\n    }\n  };\n\n  return Polyfill;\n})();","import WeakMap from './weak-map';\n\nconst map = new WeakMap();\n\nexport default function (elem) {\n  let events = map.get(elem);\n  events || map.set(elem, events = {});\n  return events;\n}\n","import * as types from '../types';\nimport eventMap from '../util/event-map';\n\nexport default function (src, dst) {\n  const dstEvents = dst.events;\n  const srcEvents = eventMap(src);\n  const instructions = [];\n\n  // Remove any source events that aren't in the source before seeing if we\n  // need to add any from the destination.\n  if (srcEvents) {\n    for (let name in srcEvents) {\n      if (dstEvents[name] !== srcEvents[name]) {\n        instructions.push({\n          data: { name, value: undefined },\n          destination: dst,\n          source: src,\n          type: types.SET_EVENT\n        });\n      }\n    }\n  }\n\n  // After instructing to remove any old events, we then can instruct to add\n  // new events. This prevents the new events from being removed from earlier\n  // instructions.\n  if (dstEvents) {\n    for (let name in dstEvents) {\n      const value = dstEvents[name];\n      if (srcEvents[name] !== value) {\n        instructions.push({\n          data: { name, value },\n          destination: dst,\n          source: src,\n          type: types.SET_EVENT\n        });\n      }\n    }\n  }\n\n  return instructions;\n}\n","import compareAttributes from './attributes';\nimport compareEvents from './events';\n\nexport default function (src, dst) {\n  if (src.tagName === dst.tagName) {\n    return compareAttributes(src, dst).concat(compareEvents(src, dst));\n  }\n}\n","import * as types from '../types';\n\nexport default function (src, dst) {\n  if (src.textContent === dst.textContent) {\n    return [];\n  }\n\n  return [{\n    destination: dst,\n    source: src,\n    type: types.TEXT_CONTENT\n  }];\n}\n","import compareElement from './element';\nimport compareText from './text';\nimport compareComment from './comment';\n\nconst NODE_COMMENT = 8;\nconst NODE_ELEMENT = 1;\nconst NODE_TEXT = 3;\n\nexport default function (src, dst) {\n  let dstType, srcType;\n\n  if (!dst || !src) {\n    return;\n  }\n\n  dstType = dst.nodeType;\n  srcType = src.nodeType;\n\n  if (dstType !== srcType) {\n    return;\n  } else if (dstType === NODE_ELEMENT) {\n    return compareElement(src, dst);\n  } else if (dstType === NODE_TEXT) {\n    return compareText(src, dst);\n  } else if (dstType === NODE_COMMENT) {\n    return compareComment(src, dst);\n  }\n}\n","import WeakMap from './weak-map';\nexport default new WeakMap();\n","import realNodeMap from './real-node-map';\n\nconst { Node } = window;\n\nexport default function (node) {\n  return node instanceof Node ? node : realNodeMap.get(node);\n}\n","import * as types from './types';\nimport compareNode from './compare/node';\nimport realNode from './util/real-node';\nimport realNodeMap from './util/real-node-map';\n\nexport default function diff (opts = {}) {\n  let src = opts.source;\n  let dst = opts.destination;\n  let instructions = [];\n\n  if (!src || !dst) {\n    return [];\n  }\n\n  let srcChs = src.childNodes;\n  let dstChs = dst.childNodes;\n  let srcChsLen = srcChs ? srcChs.length : 0;\n  let dstChsLen = dstChs ? dstChs.length : 0;\n\n  for (let a = 0; a < dstChsLen; a++) {\n    let curSrc = srcChs[a];\n    let curDst = dstChs[a];\n\n    // If there is no matching destination node it means we need to remove the\n    // current source node from the source.\n    if (!curSrc) {\n      instructions.push({\n        destination: dstChs[a],\n        source: src,\n        type: types.APPEND_CHILD\n      });\n      continue;\n    } else {\n      // Ensure the real node is carried over even if the destination isn't used.\n      // This is used in the render() function to keep track of the real node\n      // that corresponds to a virtual node if a virtual tree is being used.\n      if (!(curDst instanceof Node)) {\n        realNodeMap.set(curDst, realNode(curSrc));\n      }\n    }\n\n    let nodeInstructions = compareNode(curSrc, curDst);\n\n    // If there are instructions (even an empty array) it means the node can be\n    // diffed and doesn't have to be replaced. If the instructions are falsy\n    // it means that the nodes are not similar (cannot be changed) and must be\n    // replaced instead.\n    if (nodeInstructions) {\n      const newOpts = opts;\n      newOpts.destination = curDst;\n      newOpts.source = curSrc;\n      instructions = instructions.concat(nodeInstructions, diff(newOpts));\n    } else {\n      instructions.push({\n        destination: curDst,\n        source: curSrc,\n        type: types.REPLACE_CHILD\n      });\n    }\n  }\n\n  if (dstChsLen < srcChsLen) {\n    for (let a = dstChsLen; a < srcChsLen; a++) {\n      instructions.push({\n        destination: srcChs[a],\n        source: src,\n        type: types.REMOVE_CHILD\n      });\n    }\n  }\n\n  return instructions;\n}\n","import { setAccessor } from '../util/accessor';\nimport eventMap from '../util/event-map';\nimport realNodeMap from '../util/real-node-map';\n\nfunction createElement (el) {\n  const realNode = document.createElement(el.tagName);\n  const attributes = el.attributes;\n  const events = el.events;\n  const eventHandlers = eventMap(realNode);\n  const children = el.childNodes;\n\n  if (attributes) {\n    const attributesLen = attributes.length;\n    for (let a = 0; a < attributesLen; a++) {\n      const attr = attributes[a];\n      setAccessor(realNode, attr.name, attr.value);\n    }\n  }\n\n  if (events) {\n    for (let name in events) {\n      realNode.addEventListener(name, eventHandlers[name] = events[name]);\n    }\n  }\n\n  if (children) {\n    const docfrag = document.createDocumentFragment();\n    const childrenLen = children.length;\n\n    for (let a = 0; a < childrenLen; a++) {\n      const ch = children[a];\n      ch && docfrag.appendChild(render(ch));\n    }\n\n    if (realNode.appendChild) {\n      realNode.appendChild(docfrag);\n    }\n  }\n\n  return realNode;\n}\n\nfunction createText (el) {\n  return document.createTextNode(el.textContent);\n}\n\nexport default function render (el) {\n  if (el instanceof Node) {\n    return el;\n  }\n  if (Array.isArray(el)) {\n    const frag = document.createDocumentFragment();\n    el.forEach(item => frag.appendChild(render(item)));\n    return frag;\n  }\n  const realNode = el.tagName ? createElement(el) : createText(el);\n  realNodeMap.set(el, realNode);\n  return realNode;\n}\n","import realNode from '../util/real-node';\nimport dom from '../vdom/dom';\n\nexport default function (src, dst) {\n  realNode(src).appendChild(dom(dst));\n}\n","import { removeAccessor } from '../util/accessor';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  removeAccessor(realNode(src), data.name);\n}\n","import realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  const realDst = realNode(dst);\n  const realSrc = realNode(src);\n\n  // We don't do parentNode.removeChild because parentNode may report\n  // incorrectly in some prollyfills since it's impossible (?) to spoof.\n  realSrc.removeChild(realDst);\n}\n","import dom from '../vdom/dom';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  const realSrc = realNode(src);\n  realSrc && realSrc.parentNode && realSrc.parentNode.replaceChild(dom(dst), realSrc);\n}\n","import { setAccessor } from '../util/accessor';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  setAccessor(realNode(src), data.name, data.value);\n}\n","import eventMap from '../util/event-map';\nimport realNode from '../util/real-node';\n\nexport default function (src, dst, data) {\n  const realSrc = realNode(src);\n  const eventHandlers = eventMap(realSrc);\n  const name = data.name;\n  const prevHandler = eventHandlers[name];\n  const nextHandler = data.value;\n\n  if (typeof prevHandler === 'function') {\n    delete eventHandlers[name];\n    realSrc.removeEventListener(name, prevHandler);\n  }\n\n  if (typeof nextHandler === 'function') {\n    eventHandlers[name] = nextHandler;\n    realSrc.addEventListener(name, nextHandler);\n  }\n}\n","import realNode from '../util/real-node';\n\nexport default function (src, dst) {\n  realNode(src).textContent = dst.textContent;\n}\n","import * as types from './types';\nimport appendChild from './patch/append-child';\nimport removeAttribute from './patch/remove-attribute';\nimport removeChild from './patch/remove-child';\nimport replaceChild from './patch/replace-child';\nimport setAttribute from './patch/set-attribute';\nimport setEvent from './patch/set-event';\nimport textContent from './patch/text-content';\n\nconst patchers = {};\npatchers[types.APPEND_CHILD] = appendChild;\npatchers[types.REMOVE_ATTRIBUTE] = removeAttribute;\npatchers[types.REMOVE_CHILD] = removeChild;\npatchers[types.REPLACE_CHILD] = replaceChild;\npatchers[types.SET_ATTRIBUTE] = setAttribute;\npatchers[types.SET_EVENT] = setEvent;\npatchers[types.TEXT_CONTENT] = textContent;\n\nfunction patch (instruction) {\n  patchers[instruction.type](\n    instruction.source,\n    instruction.destination,\n    instruction.data\n  );\n}\n\nexport default function (instructions) {\n  instructions.forEach(patch);\n}\n","import diff from './diff';\nimport patch from './patch';\n\nexport default function (opts) {\n  var inst = diff(opts);\n  patch(inst);\n  return inst;\n}\n","export default function createTextNode (item) {\n  return {\n    nodeType: 3,\n    textContent: item\n  };\n}\n","import { mapAccessor } from '../util/accessor';\nimport createTextNode from './text';\n\nfunction separateData (obj) {\n  const attrs = {};\n  const events = {};\n  const node = {};\n  let attrIdx = 0;\n\n  for (let name in obj) {\n    let value = obj[name];\n\n    if (name.indexOf('on') === 0) {\n      events[name.substring(2)] = value;\n    } else {\n      attrs[attrIdx++] = attrs[name] = { name, value };\n      mapAccessor(node, name, value);\n    }\n  }\n\n  attrs.length = attrIdx;\n  return { attrs, events, node };\n}\n\nfunction ensureNodes (arr) {\n  let out = [];\n  if (!Array.isArray(arr)) {\n    arr = [arr];\n  }\n  arr.filter(Boolean).forEach(function (item) {\n    if (Array.isArray(item)) {\n      out = out.concat(ensureNodes(item));\n    } else if (typeof item === 'object') {\n      out.push(translateFromReact(item));\n    } else {\n      out.push(createTextNode(item));\n    }\n  });\n  return out;\n}\n\nfunction ensureTagName (name) {\n  return (typeof name === 'function' ? name.id || name.name : name).toUpperCase();\n}\n\nfunction isChildren (arg) {\n  return arg && (typeof arg === 'string' || Array.isArray(arg) || typeof arg.nodeType === 'number' || isReactNode(arg));\n}\n\nfunction isReactNode (item) {\n  return item && item.type && item.props;\n}\n\nfunction translateFromReact (item) {\n  if (isReactNode(item)) {\n    const props = item.props;\n    const chren = ensureNodes(props.children);\n    delete props.children;\n    return {\n      nodeType: 1,\n      tagName: item.type,\n      attributes: props,\n      childNodes: chren\n    };\n  }\n  return item;\n}\n\nexport default function element (name, attrs = {}, ...chren) {\n  const isAttrsNode = isChildren(attrs);\n  const data = separateData(isAttrsNode ? {} : attrs);\n  const node = data.node;\n  node.nodeType = 1;\n  node.tagName = ensureTagName(name);\n  node.attributes = data.attrs;\n  node.events = data.events;\n  node.childNodes = ensureNodes(isAttrsNode ? [attrs].concat(chren) : chren);\n  return node;\n}\n\n// Add an array factory that returns an array of virtual nodes.\nelement.array = ensureNodes;\n\n// Generate built-in factories.\n[\n  'a',\n  'abbr',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'base',\n  'bdi',\n  'bdo',\n  'bgsound',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'command',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'embed',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'iframe',\n  'image',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'keygen',\n  'label',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meta',\n  'meter',\n  'multicol',\n  'nav',\n  'nobr',\n  'noembed',\n  'noframes',\n  'noscript',\n  'object',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'param',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'rtc',\n  'ruby',\n  's',\n  'samp',\n  'script',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'span',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'title',\n  'tr',\n  'track',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr'\n].forEach(function (tag) {\n  element[tag] = element.bind(null, tag);\n});\n","import dom from './dom';\n\nfunction removeChildNodes (elem) {\n  while (elem.firstChild) {\n    const first = elem.firstChild;\n    first.parentNode.removeChild(first);\n  }\n}\n\nexport default function (elem, tree) {\n  removeChildNodes(elem);\n  elem.appendChild(dom(tree));\n}\n","import WeakMap from './util/weak-map';\nimport createElement from './vdom/element';\nimport merge from './merge';\nimport mount from './vdom/mount';\n\nconst { Node } = window;\nconst oldTreeMap = new WeakMap();\n\nexport default function (render) {\n  return function (elem) {\n    elem = elem instanceof Node ? elem : this;\n\n    if (!elem instanceof Node) {\n      throw new Error('No node provided to diff renderer as either the first argument or the context.');\n    }\n\n    // Create a new element to house the new tree since we diff / mount fragments.\n    const newTree = createElement('div', null, render(elem));\n    const oldTree = oldTreeMap.get(elem);\n\n    if (oldTree) {\n      merge({\n        destination: newTree,\n        source: oldTree\n      });\n    } else {\n      mount(elem, newTree.childNodes);\n    }\n\n    oldTreeMap.set(elem, newTree);\n  };\n}\n","import dom from './dom';\nimport element from './element';\nimport mount from './mount';\nimport text from './text';\n\nexport default {\n  dom,\n  element,\n  mount,\n  text\n};\n","export default '0.3.1';\n","import diff from './diff';\nimport merge from './merge';\nimport patch from './patch';\nimport render from './render';\nimport * as types from './types';\nimport vdom from './vdom';\nimport version from './version';\n\nexport default {\n  diff,\n  merge,\n  patch,\n  render,\n  types,\n  vdom,\n  version\n};\n","\n  import main from '../src/index.js';\n\n  const previousGlobal = window.skatejsDomDiff;\n  main.noConflict = function noConflict () {\n    window.skatejsDomDiff = previousGlobal;\n    return this;\n  };\n  window.skatejsDomDiff = main;\n\n  export default main;\n"],"names":["types.REMOVE_ATTRIBUTE","types.SET_ATTRIBUTE","WeakMap","types.SET_EVENT","types.TEXT_CONTENT","compareText","compareComment","Node","types.APPEND_CHILD","types.REPLACE_CHILD","types.REMOVE_CHILD","render","dom","createElement"],"mappings":"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"}