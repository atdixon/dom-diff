!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.skatejs-dom-diff=t()}(this,function(){function e(e){return"string"==typeof e?e:Array.isArray(e)?e.join(" "):Object.keys(e).filter(function(t){return e[t]?t:!1}).join(" ")}function t(e){return"string"==typeof e?e:Object.keys(e).map(function(t){return t+": "+e[t]+";"}).join(" ")}function n(e,t){return"class"===t?e.className:"style"===t?e.style.cssText:"type"!==t&&t in e?e[t]:e.getAttribute?e.getAttribute(t):e.attributes&&e.attributes[t]?e.attributes[t].value:void 0}function r(n,r,o){"class"===r?n.className=e(o):"style"===r&&(n.style={cssText:t(o)})}function o(e,t){"class"===t?e.className="":"style"===t?e.style.cssText="":"type"!==t&&t in e?e[t]="":e.removeAttribute?e.removeAttribute(t):e.attributes&&delete e.attributes[t]}function i(e,t,n){"class"===t?e.className=n:"style"===t?e.style.cssText=n:"type"!==t&&t in e||"string"!=typeof n?e[t]=null==n?"":n:e.setAttribute?e.setAttribute(t,n):e.attributes&&(e.attributes[e.attributes.length]=e.attributes[t]={name:t,value:n})}function a(e,t){var r=e.attributes,o=t.attributes,i=(r||0)&&r.length,a=(o||0)&&o.length,u=[];if(!i&&!a)return u;for(var s=0;i>s;s++){var f=r[s],c=f.name,d=n(e,c),l=o[c],p=n(t,c);l?d!==p&&u.push({data:{name:c,value:p},destination:t,source:e,type:H}):u.push({data:{name:c},destination:t,source:e,type:B})}for(var s=0;a>s;s++){var l=o[s],v=l.name,p=n(t,v),f=r[v];f||u.push({data:{name:v,value:p},destination:t,source:e,type:H})}return u}function u(e){var t=q.get(e);return t||q.set(e,t={}),t}function s(e,t){var n=t.events,r=u(e),o=[];if(r)for(var i in r)n[i]!==r[i]&&o.push({data:{name:i,value:void 0},destination:t,source:e,type:U});if(n)for(var i in n){var a=n[i];r[i]!==a&&o.push({data:{name:i,value:a},destination:t,source:e,type:U})}return o}function f(e,t){return e.tagName===t.tagName?a(e,t).concat(s(e,t)):void 0}function c(e,t){return e.textContent===t.textContent?[]:[{destination:t,source:e,type:W}]}function d(e,t){var n=void 0,r=void 0;if(t&&e&&(n=t.nodeType,r=e.nodeType,n===r))return n===J?f(e,t):n===Q?c(e,t):n===G?c(e,t):void 0}function l(e){return e instanceof ee?e:Z.get(e)}function p(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.source,n=e.destination,r=[];if(!t||!n)return[];for(var o=t.childNodes,i=n.childNodes,a=o?o.length:0,u=i?i.length:0,s=0;u>s;s++){var f=o[s],c=i[s];if(f){c instanceof Node||Z.set(c,l(f));var v=d(f,c);if(v){var y=e;y.destination=c,y.source=f,r=r.concat(v,p(y))}else r.push({destination:c,source:f,type:F})}else r.push({destination:i[s],source:t,type:I})}if(a>u)for(var s=u;a>s;s++)r.push({destination:o[s],source:t,type:M});return r}function v(e){var t=document.createElement(e.tagName),n=e.attributes,r=e.events,o=u(t),a=e.childNodes;if(n)for(var s=n.length,f=0;s>f;f++){var c=n[f];i(t,c.name,c.value)}if(r)for(var d in r)t.addEventListener(d,o[d]=r[d]);if(a){for(var l=document.createDocumentFragment(),p=a.length,f=0;p>f;f++){var v=a[f];v&&l.appendChild(m(v))}t.appendChild&&t.appendChild(l)}return t}function y(e){return document.createTextNode(e.textContent)}function m(e){if(e instanceof Node)return e;if(Array.isArray(e)){var t=function(){var t=document.createDocumentFragment();return e.forEach(function(e){return t.appendChild(m(e))}),{v:t}}();if("object"===("undefined"==typeof t?"undefined":S["typeof"](t)))return t.v}var n=e.tagName?v(e):y(e);return Z.set(e,n),n}function h(e,t){l(e).appendChild(m(t))}function g(e,t,n){o(l(e),n.name)}function b(e,t){var n=l(t);n.parentNode.removeChild(n)}function N(e,t){var n=l(e);n&&n.parentNode&&n.parentNode.replaceChild(m(t),n)}function E(e,t,n){i(l(e),n.name,n.value)}function T(e,t,n){var r=l(e),o=u(r),i=n.name,a=o[i],s=n.value;"function"==typeof a&&(delete o[i],r.removeEventListener(i,a)),"function"==typeof s&&(o[i]=s,r.addEventListener(i,s))}function C(e,t){l(e).textContent=t.textContent}function A(e){te[e.type](e.source,e.destination,e.data)}function w(e){e.forEach(A)}function x(e){var t=p(e);return w(t),t}function j(e){return{nodeType:3,textContent:e}}function _(e){var t={},n={},o={},i=0;for(var a in e){var u=e[a];0===a.indexOf("on")?n[a.substring(2)]=u:(t[i++]=t[a]={name:a,value:u},r(o,a,u))}return t.length=i,{attrs:t,events:n,node:o}}function D(e){var t=[];return e.filter(Boolean).forEach(function(e){Array.isArray(e)?t=t.concat(D(e)):"object"===("undefined"==typeof e?"undefined":S["typeof"](e))?t.push(e):t.push(j(e))}),t}function k(e){return("function"==typeof e?e.id||e.name:e).toUpperCase()}function L(e){return e&&("string"==typeof e||Array.isArray(e)||"number"==typeof e.nodeType)}function O(e){for(;e.firstChild;){var t=e.firstChild;t.parentNode.removeChild(t)}}function P(e,t){O(e),e.appendChild(m(t))}function R(e){return function(t){if(t=t instanceof oe?t:this,!t instanceof oe)throw new Error("No node provided to diff renderer as either the first argument or the context.");var n=ne("div",null,e(t)),r=ie.get(t);r?x({destination:n,source:r}):P(t,n.childNodes),ie.set(t,n)}}var S={};S["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var I=1,M=2,B=3,F=4,H=5,U=6,V=7,W=8,Y=Object.freeze({APPEND_CHILD:I,REMOVE_CHILD:M,REMOVE_ATTRIBUTE:B,REPLACE_CHILD:F,SET_ATTRIBUTE:H,SET_EVENT:U,SET_PROPERTY:V,TEXT_CONTENT:W}),z=0,K="__WEAK_MAP_POLYFILL_",X=function(){function e(){this.key=K+z,++z}return"undefined"!=typeof WeakMap?WeakMap:(e.prototype={get:function(e){return e[this.key]},set:function(e,t){e[this.key]=t}},e)}(),q=new X,G=8,J=1,Q=3,Z=new X,$=window,ee=$.Node,te={};te[I]=h,te[B]=g,te[M]=b,te[F]=N,te[H]=E,te[U]=T,te[W]=C;var ne=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=L(t),r=_(n?{}:t),o=r.node;o.nodeType=1,o.tagName=k(e),o.attributes=r.attrs,o.events=r.events;for(var i=arguments.length,a=Array(i>2?i-2:0),u=2;i>u;u++)a[u-2]=arguments[u];return o.childNodes=D(n?[t].concat(a):a),o}.wbr.forEach(function(e){element[e]=element.bind(null,e)}),re=window,oe=re.Node,ie=new X,ae={dom:m,element:ne,mount:P,text:j},ue="0.3.1",se={diff:p,merge:x,patch:w,render:R,types:Y,vdom:ae,version:ue},fe=window.skatejsDomDiff;return se.noConflict=function(){return window.skatejsDomDiff=fe,this},window.skatejsDomDiff=se,se});
//# sourceMappingURL=index.min.js.map
