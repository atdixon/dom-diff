!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.skatejsDomDiff=t.skatejsDomDiff||{})}(this,function(t){function e(t){return"string"==typeof t?t:Array.isArray(t)?t.join(" "):Object.keys(t).filter(function(e){return!!t[e]&&e}).join(" ")}function n(t){return"string"==typeof t?t:Object.keys(t).map(function(e){return e+": "+t[e]+";"}).join(" ")}function r(t,e){return"class"===e?t.className:"style"===e?t.style.cssText:"type"!==e&&e in t?t[e]:t.getAttribute?t.getAttribute(e):t.attributes&&t.attributes[e]?t.attributes[e].value:void 0}function o(t,r,o){"class"===r?t.className=e(o):"style"===r&&(t.style={cssText:n(o)})}function i(t,e){"class"===e?t.className="":"style"===e?t.style.cssText="":"type"!==e&&e in t?t[e]="":t.removeAttribute?t.removeAttribute(e):t.attributes&&delete t.attributes[e]}function a(t,e,n){"class"===e?t.className=n:"style"===e?t.style.cssText=n:"type"!==e&&e in t||"string"!=typeof n?t[e]=null==n?"":n:t.setAttribute?t.setAttribute(e,n):t.attributes&&(t.attributes[t.attributes.length]=t.attributes[e]={name:e,value:n})}function u(t,e){var n=V(t,e);return n?n.concat(s({source:t,destination:e})):[{destination:e,source:t,type:k}]}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.source,n=t.destination;if(!e||!n)return[];for(var r=t.root?u(e,n):[],o=e.childNodes,i=n.childNodes,a=o?o.length:0,s=i?i.length:0,c=0;c<s;c++){var f=o[c],d=i[c];f?(d instanceof G||W.set(d,K(f)),r=r.concat(u(f,d))):r.push({destination:i[c],source:e,type:w})}if(s<a)for(var l=s;l<a;l++)r.push({destination:o[l],source:e,type:T});return r}function c(t){var e=document.createElement(t.tagName),n=t.attributes,r=t.events,o=R(e),i=t.childNodes;if(n)for(var u=n.length,s=0;s<u;s++){var c=n[s];a(e,c.name,c.value)}if(r)for(var f in r)e.addEventListener(f,o[f]=r[f]);if(i){for(var l=document.createDocumentFragment(),p=i.length,v=0;v<p;v++){var y=i[v];y&&l.appendChild(d(y))}e.appendChild&&e.appendChild(l)}return e}function f(t){return document.createTextNode(t.textContent)}function d(t){if(t instanceof Z)return t;if(Array.isArray(t)){var e=function(){var e=document.createDocumentFragment();return t.forEach(function(t){return e.appendChild(d(t))}),{v:e}}();if("object"===("undefined"==typeof e?"undefined":J(e)))return e.v}var n=t.tagName?c(t):f(t);return W.set(t,n),n}function l(t){at[t.type](t.source,t.destination,t.data)}function p(t){return{nodeType:3,textContent:t}}function v(t){var e={},n={},r={},i=0;for(var a in t){var u=t[a];0===a.indexOf("on")?n[a.substring(2)]=u:(e[i++]=e[a]={name:a,value:u},o(r,a,u))}return e.length=i,{attrs:e,events:n,node:r}}function y(t){var e=[];return Array.isArray(t)||(t=[t]),t.filter(Boolean).forEach(function(t){Array.isArray(t)?e=e.concat(y(t)):"object"===("undefined"==typeof t?"undefined":J(t))?e.push(g(t)):e.push(p(t))}),e}function m(t){return("function"==typeof t?t.id||t.name:t).toUpperCase()}function h(t){return t&&("string"==typeof t||Array.isArray(t)||"number"==typeof t.nodeType||b(t))}function b(t){return t&&t.type&&t.props}function g(t){if(b(t)){var e=t.props,n=y(e.children);return delete e.children,{nodeType:1,tagName:t.type,attributes:e,childNodes:n}}return t}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=h(e),r=v(n?{}:e),o=r.node;o.nodeType=1,o.tagName=m(t),o.attributes=r.attrs,o.events=r.events;for(var i=arguments.length,a=Array(i>2?i-2:0),u=2;u<i;u++)a[u-2]=arguments[u];return o.childNodes=y(n?[e].concat(a):a),o}function E(t){for(;t.firstChild;){var e=t.firstChild;e.parentNode.removeChild(e)}}var w=1,T=2,x=3,k=4,A=5,C=6,_=7,j=8,S=Object.freeze({APPEND_CHILD:w,REMOVE_CHILD:T,REMOVE_ATTRIBUTE:x,REPLACE_CHILD:k,SET_ATTRIBUTE:A,SET_EVENT:C,SET_PROPERTY:_,TEXT_CONTENT:j}),D=function(t,e){var n=t.attributes,o=e.attributes,i=(n||0)&&n.length,a=(o||0)&&o.length,u=[];if(!i&&!a)return u;for(var s=0;s<i;s++){var c=n[s],f=c.name,d=r(t,f),l=o[f],p=r(e,f);l?d!==p&&u.push({data:{name:f,value:p},destination:e,source:t,type:A}):u.push({data:{name:f},destination:e,source:t,type:x})}for(var v=0;v<a;v++){var y=o[v],m=y.name,h=r(e,m),b=n[m];b||u.push({data:{name:m,value:h},destination:e,source:t,type:A})}return u},L=0,O="__WEAK_MAP_POLYFILL_",P=function(){function t(){this.key=O+L,++L}return"undefined"!=typeof WeakMap?WeakMap:(t.prototype={get:function(t){return t[this.key]},set:function(t,e){t[this.key]=e}},t)}(),I=new P,R=function(t){var e=I.get(t);return e||I.set(t,e={}),e},M=function(t,e){var n=e.events,r=R(t),o=[];if(r)for(var i in r)n&&n[i]!==r[i]&&o.push({data:{name:i,value:void 0},destination:e,source:t,type:C});if(n)for(var a in n){var u=n[a];r[a]!==u&&o.push({data:{name:a,value:u},destination:e,source:t,type:C})}return o},q=function(t,e){if(t.tagName===e.tagName)return D(t,e).concat(M(t,e))},B=function(t,e){return t.textContent===e.textContent?[]:[{destination:e,source:t,type:j}]},F=8,H=1,U=3,V=function(t,e){var n=void 0,r=void 0;if(e&&t&&(n=e.nodeType,r=t.nodeType,n===r))return n===H?q(t,e):n===U?B(t,e):n===F?B(t,e):void 0},W=new P,Y=window,z=Y.Node,K=function(t){return t instanceof z?t:W.get(t)},X=window,G=X.Node,J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,o){var u={key:t,arg:e,resolve:n,reject:o,next:null};a?a=a.next=u:(i=a=u,r(t,e))})}function r(n,i){try{var a=e[n](i),u=a.value;u instanceof t?Promise.resolve(u.value).then(function(t){r("next",t)},function(t){r("throw",t)}):o(a.done?"return":"normal",a.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}i=i.next,i?r(i.key,i.arg):a=null}var i,a;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),window),Z=Q.Node,$=function(t,e){K(t).appendChild(d(e))},tt=function(t,e,n){i(K(t),n.name)},et=function(t,e){var n=K(e),r=K(t);r.removeChild(n)},nt=function(t,e){var n=K(t);n&&n.parentNode&&n.parentNode.replaceChild(d(e),n)},rt=function(t,e,n){a(K(t),n.name,n.value)},ot=function(t,e,n){var r=K(t),o=R(r),i=n.name,a=o[i],u=n.value;"function"==typeof a&&(delete o[i],r.removeEventListener(i,a)),"function"==typeof u&&(o[i]=u,r.addEventListener(i,u))},it=function(t,e){K(t).textContent=e.textContent},at={};at[w]=$,at[x]=tt,at[T]=et,at[k]=nt,at[A]=rt,at[C]=ot,at[j]=it;var ut=function(t){t.forEach(l)},st=function(t){var e=s(t);return ut(e),e};N.array=y,["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","multicol","nav","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach(function(t){N[t]=N.bind(null,t)});var ct=function(t,e){E(t),t.appendChild(d(e))},ft=window,dt=ft.Node,lt=new P,pt=function(t){return function(e){if(e=e instanceof dt?e:this,!(e instanceof dt))throw new Error("No node provided to diff renderer as either the first argument or the context.");var n=N("div",null,t(e)),r=lt.get(e);r?st({destination:n,source:r}):ct(e,n.childNodes),lt.set(e,n)}},vt={dom:d,element:N,mount:ct,text:p},yt="0.3.1",mt={diff:s,merge:st,patch:ut,render:pt,types:S,vdom:vt,version:yt};t.default=mt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
